Compiling 98 files with Solc 0.8.24
Solc 0.8.24 finished in 14.82s
Compiler run successful with warnings:
Warning (5667): Unused function parameter. Remove or comment out the variable name to silence this warning.
   --> contracts/hub/ControllerHub.sol:247:27:
    |
247 |     function healthFactor(address user) public view returns (uint256 hfWad) {
    |                           ^^^^^^^^^^^^

Warning (2018): Function state mutability can be restricted to pure
   --> contracts/hub/ControllerHub.sol:247:5:
    |
247 |     function healthFactor(address user) public view returns (uint256 hfWad) {
    |     ^ (Relevant source part starts here and spans across multiple lines).

Warning (2018): Function state mutability can be restricted to pure
  --> contracts/strategy/AaveV3Adapter.sol:22:5:
   |
22 |     function _deposit(uint256 assets, bytes calldata /*data*/ ) internal override returns (uint256 shares) {
   |     ^ (Relevant source part starts here and spans across multiple lines).

Warning (2018): Function state mutability can be restricted to pure
  --> contracts/strategy/AaveV3Adapter.sol:34:5:
   |
34 |     function _harvest(bytes calldata /*data*/ ) internal override returns (uint256 harvested) {
   |     ^ (Relevant source part starts here and spans across multiple lines).

Warning (2018): Function state mutability can be restricted to pure
  --> contracts/strategy/VelodromeLPAdapter.sol:37:5:
   |
37 |     function _harvest(bytes calldata /*data*/ ) internal override returns (uint256 harvested) {
   |     ^ (Relevant source part starts here and spans across multiple lines).

Warning (2018): Function state mutability can be restricted to pure
 --> test/fuzz/ControllerHubFuzz.t.sol:7:5:
  |
7 |     function testPlaceholderFuzz(uint256 x) public {
  |     ^ (Relevant source part starts here and spans across multiple lines).

Warning (2018): Function state mutability can be restricted to pure
  --> test/unit/SpokeYieldVault.t.sol:26:5:
   |
26 |     function totalAssets() external view returns (uint256) { return 0; }
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Warning (2018): Function state mutability can be restricted to pure
  --> test/unit/SpokeYieldVault.t.sol:42:5:
   |
42 |     function totalSupply() external view returns(uint256){return 0;} // for rewards tests compatibility
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Analysing contracts...
Running tests...

Ran 1 test for test/unit/SuperchainAdapterFlow.t.sol:SuperchainAdapterFlowTest
[PASS] testSendAndAuthIncoming() (gas: 68232)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 26.11ms (543.87µs CPU time)

Ran 1 test for test/unit/AdapterBehavior.t.sol:AdapterBehaviorTest
[PASS] testCapPauseDepositWithdrawHarvestEmergency() (gas: 145352)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 29.17ms (7.54ms CPU time)

Ran 4 tests for test/unit/PriceOracleRouter.t.sol:PriceOracleRouterTest
[PASS] testGetPriceBasic() (gas: 104425)
[PASS] testHeartbeatStaleReverts() (gas: 109491)
[PASS] testSecondaryDeviationCheck() (gas: 155674)
[PASS] testSequencerDownReverts() (gas: 375229)
Suite result: ok. 4 passed; 0 failed; 0 skipped; finished in 31.18ms (11.90ms CPU time)

Ran 2 tests for test/unit/AdapterRegistry.t.sol:AdapterRegistryTest
[PASS] testPauseBlocksSet() (gas: 41813)
[PASS] testSetAdapterAndViews() (gas: 66611)
Suite result: ok. 2 passed; 0 failed; 0 skipped; finished in 10.35ms (608.23µs CPU time)

Ran 4 tests for test/unit/SuperchainAdapterNegative.t.sol:SuperchainAdapterNegativeTest
[PASS] testAuthIncomingNotAllowedSenderAndSelector() (gas: 21344)
[PASS] testBridgeDisabledBlocksSend() (gas: 21887)
[PASS] testNonceMonotonicPerChannel() (gas: 83687)
[PASS] testNotAllowedSelectorRevertsSend() (gas: 24899)
Suite result: ok. 4 passed; 0 failed; 0 skipped; finished in 17.47ms (16.47ms CPU time)

Ran 1 test for test/unit/SuperchainERC20.t.sol:SuperchainERC20Test
[PASS] testGrantRevokeMinterAndMintBurn() (gas: 90510)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 14.06ms (13.25ms CPU time)

Ran 1 test for test/unit/VaultFactory.t.sol:VaultFactoryTest
[PASS] testCreateVaultAndToken() (gas: 2461475)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 24.62ms (1.22ms CPU time)

Ran 1 test for test/fuzz/ControllerHubFuzz.t.sol:ControllerHubFuzz
[PASS] testPlaceholderFuzz(uint256) (runs: 256, μ: 3526, ~: 3526)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 88.17ms (68.38ms CPU time)

Ran 4 tests for test/unit/ControllerHub.t.sol:ControllerHubUnitTest
[PASS] testBorrowExceedsLTVReverts() (gas: 91994)
[PASS] testBorrowWithinLTV() (gas: 165468)
[PASS] testLiquidationFlow() (gas: 215510)
[PASS] testRouterStalePriceReverts() (gas: 39081)
Suite result: ok. 4 passed; 0 failed; 0 skipped; finished in 52.06ms (30.89ms CPU time)

Ran 2 tests for test/unit/VelodromeAdapter.t.sol:VelodromeAdapterTest
[PASS] testCooldownEnforcedOnWithdraw() (gas: 128711)
[PASS] testDepositWithdrawHarvestAndTimestamp() (gas: 119043)
Suite result: ok. 2 passed; 0 failed; 0 skipped; finished in 1.39ms (694.14µs CPU time)

Ran 7 tests for test/unit/SpokeYieldVault.t.sol:SpokeYieldVaultTest
[PASS] testAllocateDeallocateHarvestAndCaps() (gas: 11962636)
[PASS] testBridgeDisabledRevertsOnRemote() (gas: 42896)
[PASS] testDepositMintsLST() (gas: 168894)
[PASS] testPayOutBorrowAndOnSeizeSharesFlow() (gas: 266695)
[PASS] testRedeemBurnsLST() (gas: 155671)
[PASS] testSetFlagsAndDepositRevertsWhenDisabled() (gas: 32098)
[PASS] testWithdrawalBufferSetAndServeLocal() (gas: 211447)
Suite result: ok. 7 passed; 0 failed; 0 skipped; finished in 66.65ms (24.19ms CPU time)

Ran 2 tests for test/unit/EmissionsAndRewards.t.sol:EmissionsAndRewardsTest
[PASS] testEmissionsCapsAndDistribute() (gas: 70791)
[PASS] testRewardsAccrualAndClaim() (gas: 143677)
Suite result: ok. 2 passed; 0 failed; 0 skipped; finished in 10.07ms (8.93ms CPU time)

Ran 1 test for test/unit/SuperVaultHub.t.sol:SuperVaultHubTest
[PASS] testRegisterSpokeAndCredit() (gas: 113167)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 11.21ms (3.98ms CPU time)

Ran 1 test for test/unit/SuperchainAdapter.t.sol:SuperchainAdapterTest
[PASS] testAuthIncoming() (gas: 11713)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 1.13ms (163.65µs CPU time)

Ran 7 tests for test/unit/ControllerHubCoverage.t.sol:ControllerHubCoverageTest
[PASS] testAccountLiquidityAndShortfall() (gas: 209832)
[PASS] testAccrueAboveKinkIncreasesIndexes() (gas: 214744)
[PASS] testAccrueSameTimestampNoChange() (gas: 48024)
[PASS] testHealthFactorDefaultMax() (gas: 6415)
[PASS] testInvalidParamsOnListAndSet() (gas: 35346)
[PASS] testMarketStateExtendedUtilization() (gas: 193612)
[PASS] testRepayReducesDebtAndBorrows() (gas: 213822)
Suite result: ok. 7 passed; 0 failed; 0 skipped; finished in 25.29ms (18.63ms CPU time)

Ran 2 tests for test/unit/ControllerHubPolicy.t.sol:ControllerHubPolicyTest
[PASS] testPauseFlags() (gas: 259676)
[PASS] testSetBorrowCapAndEnforcement() (gas: 201881)
Suite result: ok. 2 passed; 0 failed; 0 skipped; finished in 30.23ms (18.46ms CPU time)

Ran 1 test for test/invariant/NoncesInvariant.t.sol:NoncesInvariant
[PASS] invariant_noop() (runs: 256, calls: 128000, reverts: 127609)

╭---------------+-------------------------+-------+---------+----------╮
| Contract      | Selector                | Calls | Reverts | Discards |
+======================================================================+
| SuperVaultHub | controllerCall          | 11430 | 11430   | 0        |
|---------------+-------------------------+-------+---------+----------|
| SuperVaultHub | creditRemoteDeposit     | 11731 | 11731   | 0        |
|---------------+-------------------------+-------+---------+----------|
| SuperVaultHub | grantRole               | 11653 | 11635   | 0        |
|---------------+-------------------------+-------+---------+----------|
| SuperVaultHub | initialize              | 11730 | 11474   | 0        |
|---------------+-------------------------+-------+---------+----------|
| SuperVaultHub | registerSpoke           | 11740 | 11718   | 0        |
|---------------+-------------------------+-------+---------+----------|
| SuperVaultHub | renounceRole            | 11794 | 11787   | 0        |
|---------------+-------------------------+-------+---------+----------|
| SuperVaultHub | requestRebalance        | 11588 | 11564   | 0        |
|---------------+-------------------------+-------+---------+----------|
| SuperVaultHub | requestRemoteWithdrawal | 11392 | 11374   | 0        |
|---------------+-------------------------+-------+---------+----------|
| SuperVaultHub | revokeRole              | 11777 | 11754   | 0        |
|---------------+-------------------------+-------+---------+----------|
| SuperVaultHub | setBridgeEnabled        | 11560 | 11537   | 0        |
|---------------+-------------------------+-------+---------+----------|
| SuperVaultHub | upgradeToAndCall        | 11605 | 11605   | 0        |
╰---------------+-------------------------+-------+---------+----------╯

Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 8.41s (8.40s CPU time)

Ran 17 test suites in 8.54s (8.85s CPU time): 42 tests passed, 0 failed, 0 skipped (42 total tests)

╭--------------------------------------------------+------------------+------------------+-----------------+------------------╮
| File                                             | % Lines          | % Statements     | % Branches      | % Funcs          |
+=============================================================================================================================+
| contracts/factory/VaultFactory.sol               | 80.95% (17/21)   | 90.00% (18/20)   | 50.00% (2/4)    | 50.00% (2/4)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| contracts/hub/ControllerHub.sol                  | 96.43% (189/196) | 89.29% (225/252) | 25.93% (7/27)   | 96.15% (25/26)   |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| contracts/hub/PriceOracleRouter.sol              | 96.77% (30/31)   | 95.74% (45/47)   | 77.78% (7/9)    | 80.00% (4/5)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| contracts/hub/SuperVaultHub.sol                  | 95.12% (39/41)   | 93.33% (42/45)   | 66.67% (4/6)    | 90.00% (9/10)    |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| contracts/messaging/SuperchainAdapter.sol        | 97.06% (33/34)   | 97.06% (33/34)   | 80.00% (4/5)    | 85.71% (6/7)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| contracts/mocks/MockAggregator.sol               | 100.00% (7/7)    | 100.00% (5/5)    | 100.00% (0/0)   | 100.00% (4/4)    |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| contracts/rewards/EmissionsController.sol        | 85.19% (23/27)   | 90.48% (19/21)   | 66.67% (4/6)    | 66.67% (4/6)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| contracts/rewards/PerChainRewardsDistributor.sol | 91.18% (31/34)   | 94.29% (33/35)   | 100.00% (2/2)   | 57.14% (4/7)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| contracts/spoke/SpokeYieldVault.sol              | 93.51% (72/77)   | 94.05% (79/84)   | 71.43% (10/14)  | 92.31% (12/13)   |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| contracts/strategy/AaveV3Adapter.sol             | 75.00% (9/12)    | 69.23% (9/13)    | 0.00% (0/1)     | 80.00% (4/5)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| contracts/strategy/AdapterRegistry.sol           | 87.50% (14/16)   | 84.62% (11/13)   | 100.00% (0/0)   | 71.43% (5/7)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| contracts/strategy/BaseAdapter.sol               | 93.33% (28/30)   | 88.89% (24/27)   | 0.00% (0/2)     | 90.00% (9/10)    |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| contracts/strategy/VelodromeLPAdapter.sol        | 81.25% (13/16)   | 75.00% (12/16)   | 66.67% (2/3)    | 83.33% (5/6)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| contracts/tokens/SuperchainERC20.sol             | 85.71% (12/14)   | 87.50% (7/8)     | 100.00% (0/0)   | 83.33% (5/6)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| script/DeployPhase1.s.sol                        | 0.00% (0/1)      | 100.00% (0/0)    | 100.00% (0/0)   | 0.00% (0/1)      |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| script/DeployPhase2.s.sol                        | 0.00% (0/1)      | 100.00% (0/0)    | 100.00% (0/0)   | 0.00% (0/1)      |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| test/unit/AdapterBehavior.t.sol                  | 60.00% (3/5)     | 42.11% (8/19)    | 0.00% (0/3)     | 60.00% (3/5)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| test/unit/ControllerHub.t.sol                    | 50.00% (3/6)     | 25.00% (5/20)    | 0.00% (0/3)     | 50.00% (3/6)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| test/unit/ControllerHubCoverage.t.sol            | 40.00% (2/5)     | 21.05% (4/19)    | 0.00% (0/3)     | 40.00% (2/5)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| test/unit/ControllerHubPolicy.t.sol              | 57.14% (4/7)     | 25.00% (5/20)    | 0.00% (0/3)     | 50.00% (3/6)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| test/unit/EmissionsAndRewards.t.sol              | 100.00% (7/7)    | 95.45% (21/22)   | 33.33% (1/3)    | 100.00% (7/7)    |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| test/unit/PriceOracleRouter.t.sol                | 100.00% (5/5)    | 100.00% (5/5)    | 100.00% (0/0)   | 100.00% (4/4)    |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| test/unit/SpokeYieldVault.t.sol                  | 87.50% (14/16)   | 85.71% (30/35)   | 33.33% (1/3)    | 87.50% (14/16)   |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| test/unit/SuperchainAdapterFlow.t.sol            | 25.00% (1/4)     | 25.00% (1/4)     | 100.00% (0/0)   | 50.00% (1/2)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| test/unit/SuperchainAdapterNegative.t.sol        | 100.00% (1/1)    | 100.00% (1/1)    | 100.00% (0/0)   | 100.00% (1/1)    |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| test/unit/VelodromeAdapter.t.sol                 | 60.00% (3/5)     | 42.11% (8/19)    | 0.00% (0/3)     | 60.00% (3/5)     |
|--------------------------------------------------+------------------+------------------+-----------------+------------------|
| Total                                            | 90.47% (560/619) | 82.91% (650/784) | 44.00% (44/100) | 79.43% (139/175) |
╰--------------------------------------------------+------------------+------------------+-----------------+------------------╯
