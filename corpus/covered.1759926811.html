<style> code { white-space: pre-wrap; display: block; background-color: #eee; }.executed { background-color: #afa; }.reverted { background-color: #ffa; }.unexecuted { background-color: #faa; }.neutral { background-color: #eee; }</style><b>/code/contracts/hub/PriceOracleRouter.sol</b>
<code>
   1 |     | <span class='unexecuted'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>pragma solidity ^0.8.24;</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>import {Initializable} from &quot;@openzeppelin/contracts-upgradeable/proxy/utils/Initializable.sol&quot;;</span>
   5 |     | <span class='neutral'>import {UUPSUpgradeable} from &quot;@openzeppelin/contracts-upgradeable/proxy/utils/UUPSUpgradeable.sol&quot;;</span>
   6 |     | <span class='neutral'>import {AccessControlUpgradeable} from &quot;@openzeppelin/contracts-upgradeable/access/AccessControlUpgradeable.sol&quot;;</span>
   7 |     | <span class='neutral'>import {PausableUpgradeable} from &quot;@openzeppelin/contracts-upgradeable/utils/PausableUpgradeable.sol&quot;;</span>
   8 |     | <span class='neutral'></span>
   9 |     | <span class='neutral'>interface IAggregatorV3Like {</span>
  10 |     | <span class='neutral'>    function latestRoundData() external view returns (uint80, int256, uint256, uint256, uint80);</span>
  11 |     | <span class='neutral'>}</span>
  12 |     | <span class='neutral'></span>
  13 |     | <span class='neutral'>interface ISequencerUptimeOracleLike {</span>
  14 |     | <span class='neutral'>    function latestRoundData() external view returns (uint80, int256, uint256, uint256, uint80);</span>
  15 |     | <span class='neutral'>}</span>
  16 |     | <span class='neutral'></span>
  17 |     | <span class='neutral'>/// @title PriceOracleRouter</span>
  18 |     | <span class='neutral'>/// @notice Price router with per-asset feeds, decimals, and heartbeat staleness checks.</span>
  19 | *   | <span class='executed'>contract PriceOracleRouter is Initializable, UUPSUpgradeable, AccessControlUpgradeable, PausableUpgradeable {</span>
  20 | *   | <span class='executed'>    bytes32 public constant GOVERNOR_ROLE = keccak256(&quot;GOVERNOR_ROLE&quot;);</span>
  21 |     | <span class='neutral'></span>
  22 |     | <span class='neutral'>    struct Feed {</span>
  23 |     | <span class='neutral'>        address primary; // chainlink-style aggregator</span>
  24 |     | <span class='neutral'>        address secondary; // optional fallback aggregator</span>
  25 |     | <span class='neutral'>        uint8 decimals; // feed decimals (usually 8)</span>
  26 |     | <span class='neutral'>        uint256 heartbeat; // max age in seconds</span>
  27 |     | <span class='neutral'>        uint256 maxDeviationBps; // acceptable deviation between primary/secondary</span>
  28 |     | <span class='neutral'>        int256 minAnswer; // minimum allowed answer (signed to match CL interface)</span>
  29 |     | <span class='neutral'>        int256 maxAnswer; // maximum allowed answer</span>
  30 |     | <span class='neutral'>    }</span>
  31 |     | <span class='neutral'></span>
  32 |     | <span class='unexecuted'>    mapping(address =&gt; Feed) public feedOf;</span>
  33 |     | <span class='neutral'>    address public sequencerOracle; // optional sequencer uptime feed</span>
  34 |     | <span class='neutral'></span>
  35 |     | <span class='neutral'>    event FeedSet(</span>
  36 |     | <span class='neutral'>        address indexed asset, address indexed primary, address secondary, uint256 heartbeatSec, uint256 maxDeviationBps</span>
  37 |     | <span class='neutral'>    );</span>
  38 |     | <span class='neutral'>    event SequencerOracleSet(address indexed oracle);</span>
  39 |     | <span class='neutral'>    event GovernorProposed(address indexed currentGovernor, address indexed pendingGovernor);</span>
  40 |     | <span class='neutral'>    event GovernorAccepted(address indexed previousGovernor, address indexed newGovernor);</span>
  41 |     | <span class='neutral'></span>
  42 |     | <span class='neutral'>    error StalePrice();</span>
  43 |     | <span class='neutral'>    error ZeroAddress();</span>
  44 |     | <span class='neutral'>    error OutOfBounds();</span>
  45 |     | <span class='neutral'></span>
  46 |     | <span class='unexecuted'>    address public governor;</span>
  47 |     | <span class='neutral'></span>
  48 |     | <span class='neutral'>    function initialize(address initialGovernor) external initializer {</span>
  49 |     | <span class='neutral'>        __UUPSUpgradeable_init();</span>
  50 |     | <span class='neutral'>        __AccessControl_init();</span>
  51 |     | <span class='neutral'>        __Pausable_init();</span>
  52 | *   | <span class='executed'>        _grantRole(DEFAULT_ADMIN_ROLE, initialGovernor);</span>
  53 | *   | <span class='executed'>        _grantRole(GOVERNOR_ROLE, initialGovernor);</span>
  54 | *   | <span class='executed'>        governor = initialGovernor;</span>
  55 |     | <span class='neutral'>    }</span>
  56 |     | <span class='neutral'></span>
  57 |     | <span class='neutral'>    function _authorizeUpgrade(address) internal override onlyRole(GOVERNOR_ROLE) {}</span>
  58 |     | <span class='neutral'></span>
  59 |     | <span class='neutral'>    function setFeed(</span>
  60 |     | <span class='neutral'>        address asset,</span>
  61 |     | <span class='neutral'>        address primary,</span>
  62 |     | <span class='neutral'>        address secondary,</span>
  63 |     | <span class='neutral'>        uint8 decimals,</span>
  64 |     | <span class='neutral'>        uint256 heartbeat,</span>
  65 |     | <span class='neutral'>        uint256 maxDeviationBps</span>
  66 |     | <span class='neutral'>    ) external onlyRole(GOVERNOR_ROLE) {</span>
  67 | *   | <span class='executed'>        if (asset == address(0) || primary == address(0)) revert ZeroAddress();</span>
  68 | *   | <span class='executed'>        feedOf[asset] = Feed({</span>
  69 |     | <span class='neutral'>            primary: primary,</span>
  70 |     | <span class='neutral'>            secondary: secondary,</span>
  71 |     | <span class='neutral'>            decimals: decimals,</span>
  72 |     | <span class='neutral'>            heartbeat: heartbeat,</span>
  73 |     | <span class='neutral'>            maxDeviationBps: maxDeviationBps,</span>
  74 |     | <span class='neutral'>            minAnswer: 0,</span>
  75 | *   | <span class='executed'>            maxAnswer: type(int256).max</span>
  76 |     | <span class='neutral'>        });</span>
  77 | *   | <span class='executed'>        emit FeedSet(asset, primary, secondary, heartbeat, maxDeviationBps);</span>
  78 |     | <span class='neutral'>    }</span>
  79 |     | <span class='neutral'></span>
  80 |     | <span class='neutral'>    function setFeedBounds(address asset, int256 minAnswer, int256 maxAnswer) external onlyRole(GOVERNOR_ROLE) {</span>
  81 |     | <span class='neutral'>        Feed storage f = feedOf[asset];</span>
  82 | *   | <span class='executed'>        if (f.primary == address(0)) revert ZeroAddress();</span>
  83 | *   | <span class='executed'>        f.minAnswer = minAnswer;</span>
  84 | *   | <span class='executed'>        f.maxAnswer = maxAnswer;</span>
  85 |     | <span class='neutral'>    }</span>
  86 |     | <span class='neutral'></span>
  87 |     | <span class='neutral'>    function setSequencerOracle(address oracle_) external onlyRole(GOVERNOR_ROLE) {</span>
  88 |     | <span class='neutral'>        sequencerOracle = oracle_;</span>
  89 | *   | <span class='executed'>        emit SequencerOracleSet(oracle_);</span>
  90 |     | <span class='neutral'>    }</span>
  91 |     | <span class='neutral'></span>
  92 |     | <span class='neutral'>    function getPrice(address asset) external view returns (uint256 price, uint8 decimals, uint256 lastUpdate) {</span>
  93 |     | <span class='unexecuted'>        (price, decimals, lastUpdate) = _checkedPrice(asset);</span>
  94 |     | <span class='neutral'>    }</span>
  95 |     | <span class='neutral'></span>
  96 |     | <span class='unexecuted'>    function _checkedPrice(address asset) internal view returns (uint256 price, uint8 decimals, uint256 lastUpdate) {</span>
  97 |     | <span class='neutral'>        // Sequencer up check if configured (OP chains)</span>
  98 |     | <span class='unexecuted'>        if (sequencerOracle != address(0)) {</span>
  99 |     | <span class='unexecuted'>            (, int256 up,, uint256 seqUpdated,) = ISequencerUptimeOracleLike(sequencerOracle).latestRoundData();</span>
 100 |     | <span class='unexecuted'>            if (up == 0) revert StalePrice();</span>
 101 |     | <span class='unexecuted'>            if (block.timestamp - seqUpdated &gt; 1 hours) revert StalePrice();</span>
 102 |     | <span class='neutral'>        }</span>
 103 |     | <span class='neutral'>        Feed memory f = feedOf[asset];</span>
 104 |     | <span class='unexecuted'>        (, int256 a1,, uint256 u1,) = IAggregatorV3Like(f.primary).latestRoundData();</span>
 105 |     | <span class='unexecuted'>        bool pFresh = a1 &gt; 0 &amp;&amp; (f.heartbeat == 0 || block.timestamp - u1 &lt;= f.heartbeat);</span>
 106 |     | <span class='unexecuted'>        bool pBounds = a1 &gt;= f.minAnswer &amp;&amp; a1 &lt;= f.maxAnswer;</span>
 107 |     | <span class='neutral'>        uint256 p1u;</span>
 108 |     | <span class='unexecuted'>        if (pFresh &amp;&amp; pBounds) {</span>
 109 |     | <span class='unexecuted'>            p1u = uint256(a1);</span>
 110 |     | <span class='neutral'>        }</span>
 111 |     | <span class='unexecuted'>        if (f.secondary != address(0)) {</span>
 112 |     | <span class='unexecuted'>            (, int256 a2,, uint256 u2,) = IAggregatorV3Like(f.secondary).latestRoundData();</span>
 113 |     | <span class='unexecuted'>            bool sFresh = a2 &gt; 0 &amp;&amp; (f.heartbeat == 0 || block.timestamp - u2 &lt;= f.heartbeat);</span>
 114 |     | <span class='unexecuted'>            bool sBounds = a2 &gt;= f.minAnswer &amp;&amp; a2 &lt;= f.maxAnswer;</span>
 115 |     | <span class='unexecuted'>            if (sFresh &amp;&amp; sBounds) {</span>
 116 |     | <span class='unexecuted'>                if (p1u != 0) {</span>
 117 |     | <span class='neutral'>                    // both fresh and in-bounds: enforce deviation both directions</span>
 118 |     | <span class='neutral'>                    uint256 p2u = uint256(a2);</span>
 119 |     | <span class='unexecuted'>                    uint256 dev = p1u &gt; p2u ? ((p1u - p2u) * 10_000) / p2u : ((p2u - p1u) * 10_000) / p1u;</span>
 120 |     | <span class='unexecuted'>                    if (dev &gt; f.maxDeviationBps) revert StalePrice();</span>
 121 |     | <span class='neutral'>                } else {</span>
 122 |     | <span class='neutral'>                    // primary unusable; use secondary</span>
 123 |     | <span class='unexecuted'>                    return (uint256(a2), f.decimals, u2);</span>
 124 |     | <span class='neutral'>                }</span>
 125 |     | <span class='neutral'>            }</span>
 126 |     | <span class='neutral'>        }</span>
 127 |     | <span class='unexecuted'>        if (p1u == 0) revert StalePrice();</span>
 128 |     | <span class='unexecuted'>        return (p1u, f.decimals, u1);</span>
 129 |     | <span class='neutral'>    }</span>
 130 |     | <span class='neutral'></span>
 131 |     | <span class='neutral'>    // --- Two-step governor ---</span>
 132 |     | <span class='unexecuted'>    address public pendingGovernor;</span>
 133 |     | <span class='neutral'></span>
 134 |     | <span class='neutral'>    function proposeGovernor(address newGov) external onlyRole(GOVERNOR_ROLE) {</span>
 135 |     | <span class='unexecuted'>        if (newGov == address(0)) revert ZeroAddress();</span>
 136 |     | <span class='unexecuted'>        pendingGovernor = newGov;</span>
 137 |     | <span class='unexecuted'>        emit GovernorProposed(governor, newGov);</span>
 138 |     | <span class='neutral'>    }</span>
 139 |     | <span class='neutral'></span>
 140 |     | <span class='neutral'>    function acceptGovernor() external {</span>
 141 |     | <span class='unexecuted'>        require(msg.sender == pendingGovernor, &quot;NOT_PENDING&quot;);</span>
 142 |     | <span class='unexecuted'>        address prev = governor;</span>
 143 |     | <span class='unexecuted'>        _grantRole(DEFAULT_ADMIN_ROLE, msg.sender);</span>
 144 |     | <span class='unexecuted'>        _grantRole(GOVERNOR_ROLE, msg.sender);</span>
 145 |     | <span class='unexecuted'>        _revokeRole(GOVERNOR_ROLE, prev);</span>
 146 |     | <span class='unexecuted'>        _revokeRole(DEFAULT_ADMIN_ROLE, prev);</span>
 147 |     | <span class='neutral'>        governor = msg.sender;</span>
 148 |     | <span class='neutral'>        pendingGovernor = address(0);</span>
 149 |     | <span class='unexecuted'>        emit GovernorAccepted(prev, msg.sender);</span>
 150 |     | <span class='neutral'>    }</span>
 151 |     | <span class='neutral'></span>
 152 |     | <span class='neutral'>    uint256[50] private __gap;</span>
 153 |     | <span class='neutral'>}</span>
 154 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/contracts/mocks/MockAggregator.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>pragma solidity ^0.8.24;</span>
  3 |     | <span class='neutral'></span>
  4 | *   | <span class='executed'>contract MockAggregator {</span>
  5 |     | <span class='neutral'>    int256 public answer;</span>
  6 |     | <span class='unexecuted'>    uint256 public updatedAt;</span>
  7 |     | <span class='neutral'></span>
  8 |     | <span class='neutral'>    constructor(int256 _answer, uint256 _updatedAt) {</span>
  9 |     | <span class='neutral'>        answer = _answer;</span>
 10 |     | <span class='neutral'>        updatedAt = _updatedAt;</span>
 11 |     | <span class='neutral'>    }</span>
 12 |     | <span class='neutral'></span>
 13 |     | <span class='neutral'>    function setAnswer(int256 _answer) external {</span>
 14 |     | <span class='neutral'>        answer = _answer;</span>
 15 |     | <span class='neutral'>    }</span>
 16 |     | <span class='neutral'></span>
 17 |     | <span class='neutral'>    function setUpdatedAt(uint256 _updatedAt) external {</span>
 18 |     | <span class='neutral'>        updatedAt = _updatedAt;</span>
 19 |     | <span class='neutral'>    }</span>
 20 |     | <span class='neutral'></span>
 21 |     | <span class='neutral'>    function latestRoundData() external view returns (uint80, int256, uint256, uint256, uint80) {</span>
 22 |     | <span class='unexecuted'>        return (0, answer, updatedAt, updatedAt, 0);</span>
 23 |     | <span class='neutral'>    }</span>
 24 |     | <span class='neutral'>}</span>
 25 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/lib/openzeppelin-contracts-upgradeable/contracts/access/AccessControlUpgradeable.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (access/AccessControl.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>import {IAccessControl} from &quot;@openzeppelin/contracts/access/IAccessControl.sol&quot;;</span>
   7 |     | <span class='neutral'>import {ContextUpgradeable} from &quot;../utils/ContextUpgradeable.sol&quot;;</span>
   8 |     | <span class='neutral'>import {ERC165Upgradeable} from &quot;../utils/introspection/ERC165Upgradeable.sol&quot;;</span>
   9 |     | <span class='neutral'>import {Initializable} from &quot;../proxy/utils/Initializable.sol&quot;;</span>
  10 |     | <span class='neutral'></span>
  11 |     | <span class='neutral'>/**</span>
  12 |     | <span class='neutral'> * @dev Contract module that allows children to implement role-based access</span>
  13 |     | <span class='neutral'> * control mechanisms. This is a lightweight version that doesn&#39;t allow enumerating role</span>
  14 |     | <span class='neutral'> * members except through off-chain means by accessing the contract event logs. Some</span>
  15 |     | <span class='neutral'> * applications may benefit from on-chain enumerability, for those cases see</span>
  16 |     | <span class='neutral'> * {AccessControlEnumerable}.</span>
  17 |     | <span class='neutral'> *</span>
  18 |     | <span class='neutral'> * Roles are referred to by their `bytes32` identifier. These should be exposed</span>
  19 |     | <span class='neutral'> * in the external API and be unique. The best way to achieve this is by</span>
  20 |     | <span class='neutral'> * using `public constant` hash digests:</span>
  21 |     | <span class='neutral'> *</span>
  22 |     | <span class='neutral'> * ```solidity</span>
  23 |     | <span class='neutral'> * bytes32 public constant MY_ROLE = keccak256(&quot;MY_ROLE&quot;);</span>
  24 |     | <span class='neutral'> * ```</span>
  25 |     | <span class='neutral'> *</span>
  26 |     | <span class='neutral'> * Roles can be used to represent a set of permissions. To restrict access to a</span>
  27 |     | <span class='neutral'> * function call, use {hasRole}:</span>
  28 |     | <span class='neutral'> *</span>
  29 |     | <span class='neutral'> * ```solidity</span>
  30 |     | <span class='neutral'> * function foo() public {</span>
  31 |     | <span class='neutral'> *     require(hasRole(MY_ROLE, msg.sender));</span>
  32 |     | <span class='neutral'> *     ...</span>
  33 |     | <span class='neutral'> * }</span>
  34 |     | <span class='neutral'> * ```</span>
  35 |     | <span class='neutral'> *</span>
  36 |     | <span class='neutral'> * Roles can be granted and revoked dynamically via the {grantRole} and</span>
  37 |     | <span class='neutral'> * {revokeRole} functions. Each role has an associated admin role, and only</span>
  38 |     | <span class='neutral'> * accounts that have a role&#39;s admin role can call {grantRole} and {revokeRole}.</span>
  39 |     | <span class='neutral'> *</span>
  40 |     | <span class='neutral'> * By default, the admin role for all roles is `DEFAULT_ADMIN_ROLE`, which means</span>
  41 |     | <span class='neutral'> * that only accounts with this role will be able to grant or revoke other</span>
  42 |     | <span class='neutral'> * roles. More complex role relationships can be created by using</span>
  43 |     | <span class='neutral'> * {_setRoleAdmin}.</span>
  44 |     | <span class='neutral'> *</span>
  45 |     | <span class='neutral'> * WARNING: The `DEFAULT_ADMIN_ROLE` is also its own admin: it has permission to</span>
  46 |     | <span class='neutral'> * grant and revoke this role. Extra precautions should be taken to secure</span>
  47 |     | <span class='neutral'> * accounts that have been granted it. We recommend using {AccessControlDefaultAdminRules}</span>
  48 |     | <span class='neutral'> * to enforce additional security measures for this role.</span>
  49 |     | <span class='neutral'> */</span>
  50 |     | <span class='neutral'>abstract contract AccessControlUpgradeable is Initializable, ContextUpgradeable, IAccessControl, ERC165Upgradeable {</span>
  51 |     | <span class='neutral'>    struct RoleData {</span>
  52 |     | <span class='neutral'>        mapping(address account =&gt; bool) hasRole;</span>
  53 |     | <span class='neutral'>        bytes32 adminRole;</span>
  54 |     | <span class='neutral'>    }</span>
  55 |     | <span class='neutral'></span>
  56 |     | <span class='neutral'>    bytes32 public constant DEFAULT_ADMIN_ROLE = 0x00;</span>
  57 |     | <span class='neutral'></span>
  58 |     | <span class='neutral'></span>
  59 |     | <span class='neutral'>    /// @custom:storage-location erc7201:openzeppelin.storage.AccessControl</span>
  60 |     | <span class='neutral'>    struct AccessControlStorage {</span>
  61 |     | <span class='neutral'>        mapping(bytes32 role =&gt; RoleData) _roles;</span>
  62 |     | <span class='neutral'>    }</span>
  63 |     | <span class='neutral'></span>
  64 |     | <span class='neutral'>    // keccak256(abi.encode(uint256(keccak256(&quot;openzeppelin.storage.AccessControl&quot;)) - 1)) &amp; ~bytes32(uint256(0xff))</span>
  65 |     | <span class='neutral'>    bytes32 private constant AccessControlStorageLocation = 0x02dd7bc7dec4dceedda775e58dd541e08a116c6c53815c0bd028192f7b626800;</span>
  66 |     | <span class='neutral'></span>
  67 |     | <span class='neutral'>    function _getAccessControlStorage() private pure returns (AccessControlStorage storage $) {</span>
  68 | *   | <span class='executed'>        assembly {</span>
  69 |     | <span class='neutral'>            $.slot := AccessControlStorageLocation</span>
  70 |     | <span class='neutral'>        }</span>
  71 |     | <span class='neutral'>    }</span>
  72 |     | <span class='neutral'></span>
  73 |     | <span class='neutral'>    /**</span>
  74 |     | <span class='neutral'>     * @dev Modifier that checks that an account has a specific role. Reverts</span>
  75 |     | <span class='neutral'>     * with an {AccessControlUnauthorizedAccount} error including the required role.</span>
  76 |     | <span class='neutral'>     */</span>
  77 |     | <span class='neutral'>    modifier onlyRole(bytes32 role) {</span>
  78 | *   | <span class='executed'>        _checkRole(role);</span>
  79 |     | <span class='neutral'>        _;</span>
  80 |     | <span class='neutral'>    }</span>
  81 |     | <span class='neutral'></span>
  82 |     | <span class='neutral'>    function __AccessControl_init() internal onlyInitializing {</span>
  83 |     | <span class='neutral'>    }</span>
  84 |     | <span class='neutral'></span>
  85 |     | <span class='neutral'>    function __AccessControl_init_unchained() internal onlyInitializing {</span>
  86 |     | <span class='neutral'>    }</span>
  87 |     | <span class='neutral'>    /**</span>
  88 |     | <span class='neutral'>     * @dev See {IERC165-supportsInterface}.</span>
  89 |     | <span class='neutral'>     */</span>
  90 |     | <span class='neutral'>    function supportsInterface(bytes4 interfaceId) public view virtual override returns (bool) {</span>
  91 |     | <span class='unexecuted'>        return interfaceId == type(IAccessControl).interfaceId || super.supportsInterface(interfaceId);</span>
  92 |     | <span class='neutral'>    }</span>
  93 |     | <span class='neutral'></span>
  94 |     | <span class='neutral'>    /**</span>
  95 |     | <span class='neutral'>     * @dev Returns `true` if `account` has been granted `role`.</span>
  96 |     | <span class='neutral'>     */</span>
  97 |     | <span class='neutral'>    function hasRole(bytes32 role, address account) public view virtual returns (bool) {</span>
  98 |     | <span class='neutral'>        AccessControlStorage storage $ = _getAccessControlStorage();</span>
  99 |     | <span class='neutral'>        return $._roles[role].hasRole[account];</span>
 100 |     | <span class='neutral'>    }</span>
 101 |     | <span class='neutral'></span>
 102 |     | <span class='neutral'>    /**</span>
 103 |     | <span class='neutral'>     * @dev Reverts with an {AccessControlUnauthorizedAccount} error if `_msgSender()`</span>
 104 |     | <span class='neutral'>     * is missing `role`. Overriding this function changes the behavior of the {onlyRole} modifier.</span>
 105 |     | <span class='neutral'>     */</span>
 106 | *   | <span class='executed'>    function _checkRole(bytes32 role) internal view virtual {</span>
 107 |     | <span class='neutral'>        _checkRole(role, _msgSender());</span>
 108 |     | <span class='neutral'>    }</span>
 109 |     | <span class='neutral'></span>
 110 |     | <span class='neutral'>    /**</span>
 111 |     | <span class='neutral'>     * @dev Reverts with an {AccessControlUnauthorizedAccount} error if `account`</span>
 112 |     | <span class='neutral'>     * is missing `role`.</span>
 113 |     | <span class='neutral'>     */</span>
 114 |     | <span class='neutral'>    function _checkRole(bytes32 role, address account) internal view virtual {</span>
 115 | *   | <span class='executed'>        if (!hasRole(role, account)) {</span>
 116 |     | <span class='unexecuted'>            revert AccessControlUnauthorizedAccount(account, role);</span>
 117 |     | <span class='neutral'>        }</span>
 118 |     | <span class='neutral'>    }</span>
 119 |     | <span class='neutral'></span>
 120 |     | <span class='neutral'>    /**</span>
 121 |     | <span class='neutral'>     * @dev Returns the admin role that controls `role`. See {grantRole} and</span>
 122 |     | <span class='neutral'>     * {revokeRole}.</span>
 123 |     | <span class='neutral'>     *</span>
 124 |     | <span class='neutral'>     * To change a role&#39;s admin, use {_setRoleAdmin}.</span>
 125 |     | <span class='neutral'>     */</span>
 126 |     | <span class='neutral'>    function getRoleAdmin(bytes32 role) public view virtual returns (bytes32) {</span>
 127 |     | <span class='neutral'>        AccessControlStorage storage $ = _getAccessControlStorage();</span>
 128 |     | <span class='unexecuted'>        return $._roles[role].adminRole;</span>
 129 |     | <span class='neutral'>    }</span>
 130 |     | <span class='neutral'></span>
 131 |     | <span class='neutral'>    /**</span>
 132 |     | <span class='neutral'>     * @dev Grants `role` to `account`.</span>
 133 |     | <span class='neutral'>     *</span>
 134 |     | <span class='neutral'>     * If `account` had not been already granted `role`, emits a {RoleGranted}</span>
 135 |     | <span class='neutral'>     * event.</span>
 136 |     | <span class='neutral'>     *</span>
 137 |     | <span class='neutral'>     * Requirements:</span>
 138 |     | <span class='neutral'>     *</span>
 139 |     | <span class='neutral'>     * - the caller must have ``role``&#39;s admin role.</span>
 140 |     | <span class='neutral'>     *</span>
 141 |     | <span class='neutral'>     * May emit a {RoleGranted} event.</span>
 142 |     | <span class='neutral'>     */</span>
 143 |     | <span class='neutral'>    function grantRole(bytes32 role, address account) public virtual onlyRole(getRoleAdmin(role)) {</span>
 144 |     | <span class='unexecuted'>        _grantRole(role, account);</span>
 145 |     | <span class='neutral'>    }</span>
 146 |     | <span class='neutral'></span>
 147 |     | <span class='neutral'>    /**</span>
 148 |     | <span class='neutral'>     * @dev Revokes `role` from `account`.</span>
 149 |     | <span class='neutral'>     *</span>
 150 |     | <span class='neutral'>     * If `account` had been granted `role`, emits a {RoleRevoked} event.</span>
 151 |     | <span class='neutral'>     *</span>
 152 |     | <span class='neutral'>     * Requirements:</span>
 153 |     | <span class='neutral'>     *</span>
 154 |     | <span class='neutral'>     * - the caller must have ``role``&#39;s admin role.</span>
 155 |     | <span class='neutral'>     *</span>
 156 |     | <span class='neutral'>     * May emit a {RoleRevoked} event.</span>
 157 |     | <span class='neutral'>     */</span>
 158 |     | <span class='neutral'>    function revokeRole(bytes32 role, address account) public virtual onlyRole(getRoleAdmin(role)) {</span>
 159 |     | <span class='unexecuted'>        _revokeRole(role, account);</span>
 160 |     | <span class='neutral'>    }</span>
 161 |     | <span class='neutral'></span>
 162 |     | <span class='neutral'>    /**</span>
 163 |     | <span class='neutral'>     * @dev Revokes `role` from the calling account.</span>
 164 |     | <span class='neutral'>     *</span>
 165 |     | <span class='neutral'>     * Roles are often managed via {grantRole} and {revokeRole}: this function&#39;s</span>
 166 |     | <span class='neutral'>     * purpose is to provide a mechanism for accounts to lose their privileges</span>
 167 |     | <span class='neutral'>     * if they are compromised (such as when a trusted device is misplaced).</span>
 168 |     | <span class='neutral'>     *</span>
 169 |     | <span class='neutral'>     * If the calling account had been revoked `role`, emits a {RoleRevoked}</span>
 170 |     | <span class='neutral'>     * event.</span>
 171 |     | <span class='neutral'>     *</span>
 172 |     | <span class='neutral'>     * Requirements:</span>
 173 |     | <span class='neutral'>     *</span>
 174 |     | <span class='neutral'>     * - the caller must be `callerConfirmation`.</span>
 175 |     | <span class='neutral'>     *</span>
 176 |     | <span class='neutral'>     * May emit a {RoleRevoked} event.</span>
 177 |     | <span class='neutral'>     */</span>
 178 |     | <span class='neutral'>    function renounceRole(bytes32 role, address callerConfirmation) public virtual {</span>
 179 |     | <span class='unexecuted'>        if (callerConfirmation != _msgSender()) {</span>
 180 |     | <span class='unexecuted'>            revert AccessControlBadConfirmation();</span>
 181 |     | <span class='neutral'>        }</span>
 182 |     | <span class='neutral'></span>
 183 |     | <span class='unexecuted'>        _revokeRole(role, callerConfirmation);</span>
 184 |     | <span class='neutral'>    }</span>
 185 |     | <span class='neutral'></span>
 186 |     | <span class='neutral'>    /**</span>
 187 |     | <span class='neutral'>     * @dev Sets `adminRole` as ``role``&#39;s admin role.</span>
 188 |     | <span class='neutral'>     *</span>
 189 |     | <span class='neutral'>     * Emits a {RoleAdminChanged} event.</span>
 190 |     | <span class='neutral'>     */</span>
 191 |     | <span class='neutral'>    function _setRoleAdmin(bytes32 role, bytes32 adminRole) internal virtual {</span>
 192 |     | <span class='neutral'>        AccessControlStorage storage $ = _getAccessControlStorage();</span>
 193 |     | <span class='neutral'>        bytes32 previousAdminRole = getRoleAdmin(role);</span>
 194 |     | <span class='neutral'>        $._roles[role].adminRole = adminRole;</span>
 195 |     | <span class='neutral'>        emit RoleAdminChanged(role, previousAdminRole, adminRole);</span>
 196 |     | <span class='neutral'>    }</span>
 197 |     | <span class='neutral'></span>
 198 |     | <span class='neutral'>    /**</span>
 199 |     | <span class='neutral'>     * @dev Attempts to grant `role` to `account` and returns a boolean indicating if `role` was granted.</span>
 200 |     | <span class='neutral'>     *</span>
 201 |     | <span class='neutral'>     * Internal function without access restriction.</span>
 202 |     | <span class='neutral'>     *</span>
 203 |     | <span class='neutral'>     * May emit a {RoleGranted} event.</span>
 204 |     | <span class='neutral'>     */</span>
 205 | *   | <span class='executed'>    function _grantRole(bytes32 role, address account) internal virtual returns (bool) {</span>
 206 |     | <span class='neutral'>        AccessControlStorage storage $ = _getAccessControlStorage();</span>
 207 |     | <span class='unexecuted'>        if (!hasRole(role, account)) {</span>
 208 | *   | <span class='executed'>            $._roles[role].hasRole[account] = true;</span>
 209 | *   | <span class='executed'>            emit RoleGranted(role, account, _msgSender());</span>
 210 | *   | <span class='executed'>            return true;</span>
 211 |     | <span class='neutral'>        } else {</span>
 212 |     | <span class='unexecuted'>            return false;</span>
 213 |     | <span class='neutral'>        }</span>
 214 |     | <span class='neutral'>    }</span>
 215 |     | <span class='neutral'></span>
 216 |     | <span class='neutral'>    /**</span>
 217 |     | <span class='neutral'>     * @dev Attempts to revoke `role` to `account` and returns a boolean indicating if `role` was revoked.</span>
 218 |     | <span class='neutral'>     *</span>
 219 |     | <span class='neutral'>     * Internal function without access restriction.</span>
 220 |     | <span class='neutral'>     *</span>
 221 |     | <span class='neutral'>     * May emit a {RoleRevoked} event.</span>
 222 |     | <span class='neutral'>     */</span>
 223 |     | <span class='unexecuted'>    function _revokeRole(bytes32 role, address account) internal virtual returns (bool) {</span>
 224 |     | <span class='neutral'>        AccessControlStorage storage $ = _getAccessControlStorage();</span>
 225 |     | <span class='unexecuted'>        if (hasRole(role, account)) {</span>
 226 |     | <span class='neutral'>            $._roles[role].hasRole[account] = false;</span>
 227 |     | <span class='unexecuted'>            emit RoleRevoked(role, account, _msgSender());</span>
 228 |     | <span class='unexecuted'>            return true;</span>
 229 |     | <span class='neutral'>        } else {</span>
 230 |     | <span class='neutral'>            return false;</span>
 231 |     | <span class='neutral'>        }</span>
 232 |     | <span class='neutral'>    }</span>
 233 |     | <span class='neutral'>}</span>
 234 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/Initializable.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (proxy/utils/Initializable.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>/**</span>
   7 |     | <span class='neutral'> * @dev This is a base contract to aid in writing upgradeable contracts, or any kind of contract that will be deployed</span>
   8 |     | <span class='neutral'> * behind a proxy. Since proxied contracts do not make use of a constructor, it&#39;s common to move constructor logic to an</span>
   9 |     | <span class='neutral'> * external initializer function, usually called `initialize`. It then becomes necessary to protect this initializer</span>
  10 |     | <span class='neutral'> * function so it can only be called once. The {initializer} modifier provided by this contract will have this effect.</span>
  11 |     | <span class='neutral'> *</span>
  12 |     | <span class='neutral'> * The initialization functions use a version number. Once a version number is used, it is consumed and cannot be</span>
  13 |     | <span class='neutral'> * reused. This mechanism prevents re-execution of each &quot;step&quot; but allows the creation of new initialization steps in</span>
  14 |     | <span class='neutral'> * case an upgrade adds a module that needs to be initialized.</span>
  15 |     | <span class='neutral'> *</span>
  16 |     | <span class='neutral'> * For example:</span>
  17 |     | <span class='neutral'> *</span>
  18 |     | <span class='neutral'> * [.hljs-theme-light.nopadding]</span>
  19 |     | <span class='neutral'> * ```solidity</span>
  20 |     | <span class='neutral'> * contract MyToken is ERC20Upgradeable {</span>
  21 |     | <span class='neutral'> *     function initialize() initializer public {</span>
  22 |     | <span class='neutral'> *         __ERC20_init(&quot;MyToken&quot;, &quot;MTK&quot;);</span>
  23 |     | <span class='neutral'> *     }</span>
  24 |     | <span class='neutral'> * }</span>
  25 |     | <span class='neutral'> *</span>
  26 |     | <span class='neutral'> * contract MyTokenV2 is MyToken, ERC20PermitUpgradeable {</span>
  27 |     | <span class='neutral'> *     function initializeV2() reinitializer(2) public {</span>
  28 |     | <span class='neutral'> *         __ERC20Permit_init(&quot;MyToken&quot;);</span>
  29 |     | <span class='neutral'> *     }</span>
  30 |     | <span class='neutral'> * }</span>
  31 |     | <span class='neutral'> * ```</span>
  32 |     | <span class='neutral'> *</span>
  33 |     | <span class='neutral'> * TIP: To avoid leaving the proxy in an uninitialized state, the initializer function should be called as early as</span>
  34 |     | <span class='neutral'> * possible by providing the encoded function call as the `_data` argument to {ERC1967Proxy-constructor}.</span>
  35 |     | <span class='neutral'> *</span>
  36 |     | <span class='neutral'> * CAUTION: When used with inheritance, manual care must be taken to not invoke a parent initializer twice, or to ensure</span>
  37 |     | <span class='neutral'> * that all initializers are idempotent. This is not verified automatically as constructors are by Solidity.</span>
  38 |     | <span class='neutral'> *</span>
  39 |     | <span class='neutral'> * [CAUTION]</span>
  40 |     | <span class='neutral'> * ====</span>
  41 |     | <span class='neutral'> * Avoid leaving a contract uninitialized.</span>
  42 |     | <span class='neutral'> *</span>
  43 |     | <span class='neutral'> * An uninitialized contract can be taken over by an attacker. This applies to both a proxy and its implementation</span>
  44 |     | <span class='neutral'> * contract, which may impact the proxy. To prevent the implementation contract from being used, you should invoke</span>
  45 |     | <span class='neutral'> * the {_disableInitializers} function in the constructor to automatically lock it when it is deployed:</span>
  46 |     | <span class='neutral'> *</span>
  47 |     | <span class='neutral'> * [.hljs-theme-light.nopadding]</span>
  48 |     | <span class='neutral'> * ```</span>
  49 |     | <span class='neutral'> * /// @custom:oz-upgrades-unsafe-allow constructor</span>
  50 |     | <span class='neutral'> * constructor() {</span>
  51 |     | <span class='neutral'> *     _disableInitializers();</span>
  52 |     | <span class='neutral'> * }</span>
  53 |     | <span class='neutral'> * ```</span>
  54 |     | <span class='neutral'> * ====</span>
  55 |     | <span class='neutral'> */</span>
  56 |     | <span class='neutral'>abstract contract Initializable {</span>
  57 |     | <span class='neutral'>    /**</span>
  58 |     | <span class='neutral'>     * @dev Storage of the initializable contract.</span>
  59 |     | <span class='neutral'>     *</span>
  60 |     | <span class='neutral'>     * It&#39;s implemented on a custom ERC-7201 namespace to reduce the risk of storage collisions</span>
  61 |     | <span class='neutral'>     * when using with upgradeable contracts.</span>
  62 |     | <span class='neutral'>     *</span>
  63 |     | <span class='neutral'>     * @custom:storage-location erc7201:openzeppelin.storage.Initializable</span>
  64 |     | <span class='neutral'>     */</span>
  65 |     | <span class='neutral'>    struct InitializableStorage {</span>
  66 |     | <span class='neutral'>        /**</span>
  67 |     | <span class='neutral'>         * @dev Indicates that the contract has been initialized.</span>
  68 |     | <span class='neutral'>         */</span>
  69 |     | <span class='neutral'>        uint64 _initialized;</span>
  70 |     | <span class='neutral'>        /**</span>
  71 |     | <span class='neutral'>         * @dev Indicates that the contract is in the process of being initialized.</span>
  72 |     | <span class='neutral'>         */</span>
  73 |     | <span class='neutral'>        bool _initializing;</span>
  74 |     | <span class='neutral'>    }</span>
  75 |     | <span class='neutral'></span>
  76 |     | <span class='neutral'>    // keccak256(abi.encode(uint256(keccak256(&quot;openzeppelin.storage.Initializable&quot;)) - 1)) &amp; ~bytes32(uint256(0xff))</span>
  77 |     | <span class='neutral'>    bytes32 private constant INITIALIZABLE_STORAGE = 0xf0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00;</span>
  78 |     | <span class='neutral'></span>
  79 |     | <span class='neutral'>    /**</span>
  80 |     | <span class='neutral'>     * @dev The contract is already initialized.</span>
  81 |     | <span class='neutral'>     */</span>
  82 |     | <span class='neutral'>    error InvalidInitialization();</span>
  83 |     | <span class='neutral'></span>
  84 |     | <span class='neutral'>    /**</span>
  85 |     | <span class='neutral'>     * @dev The contract is not initializing.</span>
  86 |     | <span class='neutral'>     */</span>
  87 |     | <span class='neutral'>    error NotInitializing();</span>
  88 |     | <span class='neutral'></span>
  89 |     | <span class='neutral'>    /**</span>
  90 |     | <span class='neutral'>     * @dev Triggered when the contract has been initialized or reinitialized.</span>
  91 |     | <span class='neutral'>     */</span>
  92 |     | <span class='neutral'>    event Initialized(uint64 version);</span>
  93 |     | <span class='neutral'></span>
  94 |     | <span class='neutral'>    /**</span>
  95 |     | <span class='neutral'>     * @dev A modifier that defines a protected initializer function that can be invoked at most once. In its scope,</span>
  96 |     | <span class='neutral'>     * `onlyInitializing` functions can be used to initialize parent contracts.</span>
  97 |     | <span class='neutral'>     *</span>
  98 |     | <span class='neutral'>     * Similar to `reinitializer(1)`, except that in the context of a constructor an `initializer` may be invoked any</span>
  99 |     | <span class='neutral'>     * number of times. This behavior in the constructor can be useful during testing and is not expected to be used in</span>
 100 |     | <span class='neutral'>     * production.</span>
 101 |     | <span class='neutral'>     *</span>
 102 |     | <span class='neutral'>     * Emits an {Initialized} event.</span>
 103 |     | <span class='neutral'>     */</span>
 104 |     | <span class='neutral'>    modifier initializer() {</span>
 105 |     | <span class='neutral'>        // solhint-disable-next-line var-name-mixedcase</span>
 106 |     | <span class='neutral'>        InitializableStorage storage $ = _getInitializableStorage();</span>
 107 |     | <span class='neutral'></span>
 108 |     | <span class='neutral'>        // Cache values to avoid duplicated sloads</span>
 109 | *   | <span class='executed'>        bool isTopLevelCall = !$._initializing;</span>
 110 |     | <span class='neutral'>        uint64 initialized = $._initialized;</span>
 111 |     | <span class='neutral'></span>
 112 |     | <span class='neutral'>        // Allowed calls:</span>
 113 |     | <span class='neutral'>        // - initialSetup: the contract is not in the initializing state and no previous version was</span>
 114 |     | <span class='neutral'>        //                 initialized</span>
 115 |     | <span class='neutral'>        // - construction: the contract is initialized at version 1 (no reininitialization) and the</span>
 116 |     | <span class='neutral'>        //                 current contract is just being deployed</span>
 117 | *   | <span class='executed'>        bool initialSetup = initialized == 0 &amp;&amp; isTopLevelCall;</span>
 118 | *   | <span class='executed'>        bool construction = initialized == 1 &amp;&amp; address(this).code.length == 0;</span>
 119 |     | <span class='neutral'></span>
 120 | *   | <span class='executed'>        if (!initialSetup &amp;&amp; !construction) {</span>
 121 |     | <span class='unexecuted'>            revert InvalidInitialization();</span>
 122 |     | <span class='neutral'>        }</span>
 123 |     | <span class='neutral'>        $._initialized = 1;</span>
 124 | *   | <span class='executed'>        if (isTopLevelCall) {</span>
 125 |     | <span class='neutral'>            $._initializing = true;</span>
 126 |     | <span class='neutral'>        }</span>
 127 |     | <span class='neutral'>        _;</span>
 128 | *   | <span class='executed'>        if (isTopLevelCall) {</span>
 129 |     | <span class='neutral'>            $._initializing = false;</span>
 130 | *   | <span class='executed'>            emit Initialized(1);</span>
 131 |     | <span class='neutral'>        }</span>
 132 |     | <span class='neutral'>    }</span>
 133 |     | <span class='neutral'></span>
 134 |     | <span class='neutral'>    /**</span>
 135 |     | <span class='neutral'>     * @dev A modifier that defines a protected reinitializer function that can be invoked at most once, and only if the</span>
 136 |     | <span class='neutral'>     * contract hasn&#39;t been initialized to a greater version before. In its scope, `onlyInitializing` functions can be</span>
 137 |     | <span class='neutral'>     * used to initialize parent contracts.</span>
 138 |     | <span class='neutral'>     *</span>
 139 |     | <span class='neutral'>     * A reinitializer may be used after the original initialization step. This is essential to configure modules that</span>
 140 |     | <span class='neutral'>     * are added through upgrades and that require initialization.</span>
 141 |     | <span class='neutral'>     *</span>
 142 |     | <span class='neutral'>     * When `version` is 1, this modifier is similar to `initializer`, except that functions marked with `reinitializer`</span>
 143 |     | <span class='neutral'>     * cannot be nested. If one is invoked in the context of another, execution will revert.</span>
 144 |     | <span class='neutral'>     *</span>
 145 |     | <span class='neutral'>     * Note that versions can jump in increments greater than 1; this implies that if multiple reinitializers coexist in</span>
 146 |     | <span class='neutral'>     * a contract, executing them in the right order is up to the developer or operator.</span>
 147 |     | <span class='neutral'>     *</span>
 148 |     | <span class='neutral'>     * WARNING: Setting the version to 2**64 - 1 will prevent any future reinitialization.</span>
 149 |     | <span class='neutral'>     *</span>
 150 |     | <span class='neutral'>     * Emits an {Initialized} event.</span>
 151 |     | <span class='neutral'>     */</span>
 152 |     | <span class='neutral'>    modifier reinitializer(uint64 version) {</span>
 153 |     | <span class='neutral'>        // solhint-disable-next-line var-name-mixedcase</span>
 154 |     | <span class='neutral'>        InitializableStorage storage $ = _getInitializableStorage();</span>
 155 |     | <span class='neutral'></span>
 156 |     | <span class='neutral'>        if ($._initializing || $._initialized &gt;= version) {</span>
 157 |     | <span class='neutral'>            revert InvalidInitialization();</span>
 158 |     | <span class='neutral'>        }</span>
 159 |     | <span class='neutral'>        $._initialized = version;</span>
 160 |     | <span class='neutral'>        $._initializing = true;</span>
 161 |     | <span class='neutral'>        _;</span>
 162 |     | <span class='neutral'>        $._initializing = false;</span>
 163 |     | <span class='neutral'>        emit Initialized(version);</span>
 164 |     | <span class='neutral'>    }</span>
 165 |     | <span class='neutral'></span>
 166 |     | <span class='neutral'>    /**</span>
 167 |     | <span class='neutral'>     * @dev Modifier to protect an initialization function so that it can only be invoked by functions with the</span>
 168 |     | <span class='neutral'>     * {initializer} and {reinitializer} modifiers, directly or indirectly.</span>
 169 |     | <span class='neutral'>     */</span>
 170 | *   | <span class='executed'>    modifier onlyInitializing() {</span>
 171 |     | <span class='neutral'>        _checkInitializing();</span>
 172 |     | <span class='neutral'>        _;</span>
 173 |     | <span class='neutral'>    }</span>
 174 |     | <span class='neutral'></span>
 175 |     | <span class='neutral'>    /**</span>
 176 |     | <span class='neutral'>     * @dev Reverts if the contract is not in an initializing state. See {onlyInitializing}.</span>
 177 |     | <span class='neutral'>     */</span>
 178 | *   | <span class='executed'>    function _checkInitializing() internal view virtual {</span>
 179 | *   | <span class='executed'>        if (!_isInitializing()) {</span>
 180 |     | <span class='unexecuted'>            revert NotInitializing();</span>
 181 |     | <span class='neutral'>        }</span>
 182 |     | <span class='neutral'>    }</span>
 183 |     | <span class='neutral'></span>
 184 |     | <span class='neutral'>    /**</span>
 185 |     | <span class='neutral'>     * @dev Locks the contract, preventing any future reinitialization. This cannot be part of an initializer call.</span>
 186 |     | <span class='neutral'>     * Calling this in the constructor of a contract will prevent that contract from being initialized or reinitialized</span>
 187 |     | <span class='neutral'>     * to any version. It is recommended to use this to lock implementation contracts that are designed to be called</span>
 188 |     | <span class='neutral'>     * through proxies.</span>
 189 |     | <span class='neutral'>     *</span>
 190 |     | <span class='neutral'>     * Emits an {Initialized} event the first time it is successfully executed.</span>
 191 |     | <span class='neutral'>     */</span>
 192 |     | <span class='neutral'>    function _disableInitializers() internal virtual {</span>
 193 |     | <span class='neutral'>        // solhint-disable-next-line var-name-mixedcase</span>
 194 |     | <span class='neutral'>        InitializableStorage storage $ = _getInitializableStorage();</span>
 195 |     | <span class='neutral'></span>
 196 |     | <span class='neutral'>        if ($._initializing) {</span>
 197 |     | <span class='neutral'>            revert InvalidInitialization();</span>
 198 |     | <span class='neutral'>        }</span>
 199 |     | <span class='neutral'>        if ($._initialized != type(uint64).max) {</span>
 200 |     | <span class='neutral'>            $._initialized = type(uint64).max;</span>
 201 |     | <span class='neutral'>            emit Initialized(type(uint64).max);</span>
 202 |     | <span class='neutral'>        }</span>
 203 |     | <span class='neutral'>    }</span>
 204 |     | <span class='neutral'></span>
 205 |     | <span class='neutral'>    /**</span>
 206 |     | <span class='neutral'>     * @dev Returns the highest version that has been initialized. See {reinitializer}.</span>
 207 |     | <span class='neutral'>     */</span>
 208 |     | <span class='neutral'>    function _getInitializedVersion() internal view returns (uint64) {</span>
 209 |     | <span class='neutral'>        return _getInitializableStorage()._initialized;</span>
 210 |     | <span class='neutral'>    }</span>
 211 |     | <span class='neutral'></span>
 212 |     | <span class='neutral'>    /**</span>
 213 |     | <span class='neutral'>     * @dev Returns `true` if the contract is currently initializing. See {onlyInitializing}.</span>
 214 |     | <span class='neutral'>     */</span>
 215 |     | <span class='neutral'>    function _isInitializing() internal view returns (bool) {</span>
 216 |     | <span class='neutral'>        return _getInitializableStorage()._initializing;</span>
 217 |     | <span class='neutral'>    }</span>
 218 |     | <span class='neutral'></span>
 219 |     | <span class='neutral'>    /**</span>
 220 |     | <span class='neutral'>     * @dev Returns a pointer to the storage namespace.</span>
 221 |     | <span class='neutral'>     */</span>
 222 |     | <span class='neutral'>    // solhint-disable-next-line var-name-mixedcase</span>
 223 |     | <span class='neutral'>    function _getInitializableStorage() private pure returns (InitializableStorage storage $) {</span>
 224 | *   | <span class='executed'>        assembly {</span>
 225 |     | <span class='neutral'>            $.slot := INITIALIZABLE_STORAGE</span>
 226 |     | <span class='neutral'>        }</span>
 227 |     | <span class='neutral'>    }</span>
 228 |     | <span class='neutral'>}</span>
 229 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/lib/openzeppelin-contracts-upgradeable/contracts/proxy/utils/UUPSUpgradeable.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (proxy/utils/UUPSUpgradeable.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>import {IERC1822Proxiable} from &quot;@openzeppelin/contracts/interfaces/draft-IERC1822.sol&quot;;</span>
   7 |     | <span class='neutral'>import {ERC1967Utils} from &quot;@openzeppelin/contracts/proxy/ERC1967/ERC1967Utils.sol&quot;;</span>
   8 |     | <span class='neutral'>import {Initializable} from &quot;./Initializable.sol&quot;;</span>
   9 |     | <span class='neutral'></span>
  10 |     | <span class='neutral'>/**</span>
  11 |     | <span class='neutral'> * @dev An upgradeability mechanism designed for UUPS proxies. The functions included here can perform an upgrade of an</span>
  12 |     | <span class='neutral'> * {ERC1967Proxy}, when this contract is set as the implementation behind such a proxy.</span>
  13 |     | <span class='neutral'> *</span>
  14 |     | <span class='neutral'> * A security mechanism ensures that an upgrade does not turn off upgradeability accidentally, although this risk is</span>
  15 |     | <span class='neutral'> * reinstated if the upgrade retains upgradeability but removes the security mechanism, e.g. by replacing</span>
  16 |     | <span class='neutral'> * `UUPSUpgradeable` with a custom implementation of upgrades.</span>
  17 |     | <span class='neutral'> *</span>
  18 |     | <span class='neutral'> * The {_authorizeUpgrade} function must be overridden to include access restriction to the upgrade mechanism.</span>
  19 |     | <span class='neutral'> */</span>
  20 |     | <span class='neutral'>abstract contract UUPSUpgradeable is Initializable, IERC1822Proxiable {</span>
  21 |     | <span class='neutral'>    /// @custom:oz-upgrades-unsafe-allow state-variable-immutable</span>
  22 | *   | <span class='executed'>    address private immutable __self = address(this);</span>
  23 |     | <span class='neutral'></span>
  24 |     | <span class='neutral'>    /**</span>
  25 |     | <span class='neutral'>     * @dev The version of the upgrade interface of the contract. If this getter is missing, both `upgradeTo(address)`</span>
  26 |     | <span class='neutral'>     * and `upgradeToAndCall(address,bytes)` are present, and `upgradeTo` must be used if no function should be called,</span>
  27 |     | <span class='neutral'>     * while `upgradeToAndCall` will invoke the `receive` function if the second argument is the empty byte string.</span>
  28 |     | <span class='neutral'>     * If the getter returns `&quot;5.0.0&quot;`, only `upgradeToAndCall(address,bytes)` is present, and the second argument must</span>
  29 |     | <span class='neutral'>     * be the empty byte string if no function should be called, making it impossible to invoke the `receive` function</span>
  30 |     | <span class='neutral'>     * during an upgrade.</span>
  31 |     | <span class='neutral'>     */</span>
  32 |     | <span class='neutral'>    string public constant UPGRADE_INTERFACE_VERSION = &quot;5.0.0&quot;;</span>
  33 |     | <span class='neutral'></span>
  34 |     | <span class='neutral'>    /**</span>
  35 |     | <span class='neutral'>     * @dev The call is from an unauthorized context.</span>
  36 |     | <span class='neutral'>     */</span>
  37 |     | <span class='neutral'>    error UUPSUnauthorizedCallContext();</span>
  38 |     | <span class='neutral'></span>
  39 |     | <span class='neutral'>    /**</span>
  40 |     | <span class='neutral'>     * @dev The storage `slot` is unsupported as a UUID.</span>
  41 |     | <span class='neutral'>     */</span>
  42 |     | <span class='neutral'>    error UUPSUnsupportedProxiableUUID(bytes32 slot);</span>
  43 |     | <span class='neutral'></span>
  44 |     | <span class='neutral'>    /**</span>
  45 |     | <span class='neutral'>     * @dev Check that the execution is being performed through a delegatecall call and that the execution context is</span>
  46 |     | <span class='neutral'>     * a proxy contract with an implementation (as defined in ERC1967) pointing to self. This should only be the case</span>
  47 |     | <span class='neutral'>     * for UUPS and transparent proxies that are using the current contract as their implementation. Execution of a</span>
  48 |     | <span class='neutral'>     * function through ERC1167 minimal proxies (clones) would not normally pass this test, but is not guaranteed to</span>
  49 |     | <span class='neutral'>     * fail.</span>
  50 |     | <span class='neutral'>     */</span>
  51 |     | <span class='neutral'>    modifier onlyProxy() {</span>
  52 |     | <span class='neutral'>        _checkProxy();</span>
  53 |     | <span class='neutral'>        _;</span>
  54 |     | <span class='neutral'>    }</span>
  55 |     | <span class='neutral'></span>
  56 |     | <span class='neutral'>    /**</span>
  57 |     | <span class='neutral'>     * @dev Check that the execution is not being performed through a delegate call. This allows a function to be</span>
  58 |     | <span class='neutral'>     * callable on the implementing contract but not through proxies.</span>
  59 |     | <span class='neutral'>     */</span>
  60 |     | <span class='neutral'>    modifier notDelegated() {</span>
  61 |     | <span class='neutral'>        _checkNotDelegated();</span>
  62 |     | <span class='neutral'>        _;</span>
  63 |     | <span class='neutral'>    }</span>
  64 |     | <span class='neutral'></span>
  65 |     | <span class='neutral'>    function __UUPSUpgradeable_init() internal onlyInitializing {</span>
  66 |     | <span class='neutral'>    }</span>
  67 |     | <span class='neutral'></span>
  68 |     | <span class='neutral'>    function __UUPSUpgradeable_init_unchained() internal onlyInitializing {</span>
  69 |     | <span class='neutral'>    }</span>
  70 |     | <span class='neutral'>    /**</span>
  71 |     | <span class='neutral'>     * @dev Implementation of the ERC1822 {proxiableUUID} function. This returns the storage slot used by the</span>
  72 |     | <span class='neutral'>     * implementation. It is used to validate the implementation&#39;s compatibility when performing an upgrade.</span>
  73 |     | <span class='neutral'>     *</span>
  74 |     | <span class='neutral'>     * IMPORTANT: A proxy pointing at a proxiable contract should not be considered proxiable itself, because this risks</span>
  75 |     | <span class='neutral'>     * bricking a proxy that upgrades to it, by delegating to itself until out of gas. Thus it is critical that this</span>
  76 |     | <span class='neutral'>     * function revert if invoked through a proxy. This is guaranteed by the `notDelegated` modifier.</span>
  77 |     | <span class='neutral'>     */</span>
  78 |     | <span class='neutral'>    function proxiableUUID() external view virtual notDelegated returns (bytes32) {</span>
  79 |     | <span class='neutral'>        return ERC1967Utils.IMPLEMENTATION_SLOT;</span>
  80 |     | <span class='neutral'>    }</span>
  81 |     | <span class='neutral'></span>
  82 |     | <span class='neutral'>    /**</span>
  83 |     | <span class='neutral'>     * @dev Upgrade the implementation of the proxy to `newImplementation`, and subsequently execute the function call</span>
  84 |     | <span class='neutral'>     * encoded in `data`.</span>
  85 |     | <span class='neutral'>     *</span>
  86 |     | <span class='neutral'>     * Calls {_authorizeUpgrade}.</span>
  87 |     | <span class='neutral'>     *</span>
  88 |     | <span class='neutral'>     * Emits an {Upgraded} event.</span>
  89 |     | <span class='neutral'>     *</span>
  90 |     | <span class='neutral'>     * @custom:oz-upgrades-unsafe-allow-reachable delegatecall</span>
  91 |     | <span class='neutral'>     */</span>
  92 |     | <span class='neutral'>    function upgradeToAndCall(address newImplementation, bytes memory data) public payable virtual onlyProxy {</span>
  93 |     | <span class='neutral'>        _authorizeUpgrade(newImplementation);</span>
  94 |     | <span class='neutral'>        _upgradeToAndCallUUPS(newImplementation, data);</span>
  95 |     | <span class='neutral'>    }</span>
  96 |     | <span class='neutral'></span>
  97 |     | <span class='neutral'>    /**</span>
  98 |     | <span class='neutral'>     * @dev Reverts if the execution is not performed via delegatecall or the execution</span>
  99 |     | <span class='neutral'>     * context is not of a proxy with an ERC1967-compliant implementation pointing to self.</span>
 100 |     | <span class='neutral'>     * See {_onlyProxy}.</span>
 101 |     | <span class='neutral'>     */</span>
 102 |     | <span class='neutral'>    function _checkProxy() internal view virtual {</span>
 103 |     | <span class='unexecuted'>        if (</span>
 104 |     | <span class='unexecuted'>            address(this) == __self || // Must be called through delegatecall</span>
 105 |     | <span class='unexecuted'>            ERC1967Utils.getImplementation() != __self // Must be called through an active proxy</span>
 106 |     | <span class='neutral'>        ) {</span>
 107 |     | <span class='unexecuted'>            revert UUPSUnauthorizedCallContext();</span>
 108 |     | <span class='neutral'>        }</span>
 109 |     | <span class='neutral'>    }</span>
 110 |     | <span class='neutral'></span>
 111 |     | <span class='neutral'>    /**</span>
 112 |     | <span class='neutral'>     * @dev Reverts if the execution is performed via delegatecall.</span>
 113 |     | <span class='neutral'>     * See {notDelegated}.</span>
 114 |     | <span class='neutral'>     */</span>
 115 |     | <span class='neutral'>    function _checkNotDelegated() internal view virtual {</span>
 116 |     | <span class='unexecuted'>        if (address(this) != __self) {</span>
 117 |     | <span class='neutral'>            // Must not be called through delegatecall</span>
 118 |     | <span class='unexecuted'>            revert UUPSUnauthorizedCallContext();</span>
 119 |     | <span class='neutral'>        }</span>
 120 |     | <span class='neutral'>    }</span>
 121 |     | <span class='neutral'></span>
 122 |     | <span class='neutral'>    /**</span>
 123 |     | <span class='neutral'>     * @dev Function that should revert when `msg.sender` is not authorized to upgrade the contract. Called by</span>
 124 |     | <span class='neutral'>     * {upgradeToAndCall}.</span>
 125 |     | <span class='neutral'>     *</span>
 126 |     | <span class='neutral'>     * Normally, this function will use an xref:access.adoc[access control] modifier such as {Ownable-onlyOwner}.</span>
 127 |     | <span class='neutral'>     *</span>
 128 |     | <span class='neutral'>     * ```solidity</span>
 129 |     | <span class='neutral'>     * function _authorizeUpgrade(address) internal onlyOwner {}</span>
 130 |     | <span class='neutral'>     * ```</span>
 131 |     | <span class='neutral'>     */</span>
 132 |     | <span class='neutral'>    function _authorizeUpgrade(address newImplementation) internal virtual;</span>
 133 |     | <span class='neutral'></span>
 134 |     | <span class='neutral'>    /**</span>
 135 |     | <span class='neutral'>     * @dev Performs an implementation upgrade with a security check for UUPS proxies, and additional setup call.</span>
 136 |     | <span class='neutral'>     *</span>
 137 |     | <span class='neutral'>     * As a security check, {proxiableUUID} is invoked in the new implementation, and the return value</span>
 138 |     | <span class='neutral'>     * is expected to be the implementation slot in ERC1967.</span>
 139 |     | <span class='neutral'>     *</span>
 140 |     | <span class='neutral'>     * Emits an {IERC1967-Upgraded} event.</span>
 141 |     | <span class='neutral'>     */</span>
 142 |     | <span class='neutral'>    function _upgradeToAndCallUUPS(address newImplementation, bytes memory data) private {</span>
 143 |     | <span class='unexecuted'>        try IERC1822Proxiable(newImplementation).proxiableUUID() returns (bytes32 slot) {</span>
 144 |     | <span class='unexecuted'>            if (slot != ERC1967Utils.IMPLEMENTATION_SLOT) {</span>
 145 |     | <span class='unexecuted'>                revert UUPSUnsupportedProxiableUUID(slot);</span>
 146 |     | <span class='neutral'>            }</span>
 147 |     | <span class='neutral'>            ERC1967Utils.upgradeToAndCall(newImplementation, data);</span>
 148 |     | <span class='neutral'>        } catch {</span>
 149 |     | <span class='neutral'>            // The implementation is not UUPS</span>
 150 |     | <span class='unexecuted'>            revert ERC1967Utils.ERC1967InvalidImplementation(newImplementation);</span>
 151 |     | <span class='neutral'>        }</span>
 152 |     | <span class='neutral'>    }</span>
 153 |     | <span class='neutral'>}</span>
 154 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/lib/openzeppelin-contracts-upgradeable/contracts/utils/ContextUpgradeable.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.1) (utils/Context.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'>import {Initializable} from &quot;../proxy/utils/Initializable.sol&quot;;</span>
  6 |     | <span class='neutral'></span>
  7 |     | <span class='neutral'>/**</span>
  8 |     | <span class='neutral'> * @dev Provides information about the current execution context, including the</span>
  9 |     | <span class='neutral'> * sender of the transaction and its data. While these are generally available</span>
 10 |     | <span class='neutral'> * via msg.sender and msg.data, they should not be accessed in such a direct</span>
 11 |     | <span class='neutral'> * manner, since when dealing with meta-transactions the account sending and</span>
 12 |     | <span class='neutral'> * paying for execution may not be the actual sender (as far as an application</span>
 13 |     | <span class='neutral'> * is concerned).</span>
 14 |     | <span class='neutral'> *</span>
 15 |     | <span class='neutral'> * This contract is only required for intermediate, library-like contracts.</span>
 16 |     | <span class='neutral'> */</span>
 17 |     | <span class='neutral'>abstract contract ContextUpgradeable is Initializable {</span>
 18 |     | <span class='neutral'>    function __Context_init() internal onlyInitializing {</span>
 19 |     | <span class='neutral'>    }</span>
 20 |     | <span class='neutral'></span>
 21 |     | <span class='neutral'>    function __Context_init_unchained() internal onlyInitializing {</span>
 22 |     | <span class='neutral'>    }</span>
 23 |     | <span class='neutral'>    function _msgSender() internal view virtual returns (address) {</span>
 24 | *   | <span class='executed'>        return msg.sender;</span>
 25 |     | <span class='neutral'>    }</span>
 26 |     | <span class='neutral'></span>
 27 |     | <span class='neutral'>    function _msgData() internal view virtual returns (bytes calldata) {</span>
 28 |     | <span class='neutral'>        return msg.data;</span>
 29 |     | <span class='neutral'>    }</span>
 30 |     | <span class='neutral'></span>
 31 |     | <span class='neutral'>    function _contextSuffixLength() internal view virtual returns (uint256) {</span>
 32 |     | <span class='neutral'>        return 0;</span>
 33 |     | <span class='neutral'>    }</span>
 34 |     | <span class='neutral'>}</span>
 35 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/lib/openzeppelin-contracts-upgradeable/contracts/utils/PausableUpgradeable.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (utils/Pausable.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>import {ContextUpgradeable} from &quot;../utils/ContextUpgradeable.sol&quot;;</span>
   7 |     | <span class='neutral'>import {Initializable} from &quot;../proxy/utils/Initializable.sol&quot;;</span>
   8 |     | <span class='neutral'></span>
   9 |     | <span class='neutral'>/**</span>
  10 |     | <span class='neutral'> * @dev Contract module which allows children to implement an emergency stop</span>
  11 |     | <span class='neutral'> * mechanism that can be triggered by an authorized account.</span>
  12 |     | <span class='neutral'> *</span>
  13 |     | <span class='neutral'> * This module is used through inheritance. It will make available the</span>
  14 |     | <span class='neutral'> * modifiers `whenNotPaused` and `whenPaused`, which can be applied to</span>
  15 |     | <span class='neutral'> * the functions of your contract. Note that they will not be pausable by</span>
  16 |     | <span class='neutral'> * simply including this module, only once the modifiers are put in place.</span>
  17 |     | <span class='neutral'> */</span>
  18 |     | <span class='neutral'>abstract contract PausableUpgradeable is Initializable, ContextUpgradeable {</span>
  19 |     | <span class='neutral'>    /// @custom:storage-location erc7201:openzeppelin.storage.Pausable</span>
  20 |     | <span class='neutral'>    struct PausableStorage {</span>
  21 |     | <span class='neutral'>        bool _paused;</span>
  22 |     | <span class='neutral'>    }</span>
  23 |     | <span class='neutral'></span>
  24 |     | <span class='neutral'>    // keccak256(abi.encode(uint256(keccak256(&quot;openzeppelin.storage.Pausable&quot;)) - 1)) &amp; ~bytes32(uint256(0xff))</span>
  25 |     | <span class='neutral'>    bytes32 private constant PausableStorageLocation = 0xcd5ed15c6e187e77e9aee88184c21f4f2182ab5827cb3b7e07fbedcd63f03300;</span>
  26 |     | <span class='neutral'></span>
  27 |     | <span class='neutral'>    function _getPausableStorage() private pure returns (PausableStorage storage $) {</span>
  28 | *   | <span class='executed'>        assembly {</span>
  29 |     | <span class='neutral'>            $.slot := PausableStorageLocation</span>
  30 |     | <span class='neutral'>        }</span>
  31 |     | <span class='neutral'>    }</span>
  32 |     | <span class='neutral'></span>
  33 |     | <span class='neutral'>    /**</span>
  34 |     | <span class='neutral'>     * @dev Emitted when the pause is triggered by `account`.</span>
  35 |     | <span class='neutral'>     */</span>
  36 |     | <span class='neutral'>    event Paused(address account);</span>
  37 |     | <span class='neutral'></span>
  38 |     | <span class='neutral'>    /**</span>
  39 |     | <span class='neutral'>     * @dev Emitted when the pause is lifted by `account`.</span>
  40 |     | <span class='neutral'>     */</span>
  41 |     | <span class='neutral'>    event Unpaused(address account);</span>
  42 |     | <span class='neutral'></span>
  43 |     | <span class='neutral'>    /**</span>
  44 |     | <span class='neutral'>     * @dev The operation failed because the contract is paused.</span>
  45 |     | <span class='neutral'>     */</span>
  46 |     | <span class='neutral'>    error EnforcedPause();</span>
  47 |     | <span class='neutral'></span>
  48 |     | <span class='neutral'>    /**</span>
  49 |     | <span class='neutral'>     * @dev The operation failed because the contract is not paused.</span>
  50 |     | <span class='neutral'>     */</span>
  51 |     | <span class='neutral'>    error ExpectedPause();</span>
  52 |     | <span class='neutral'></span>
  53 |     | <span class='neutral'>    /**</span>
  54 |     | <span class='neutral'>     * @dev Initializes the contract in unpaused state.</span>
  55 |     | <span class='neutral'>     */</span>
  56 |     | <span class='neutral'>    function __Pausable_init() internal onlyInitializing {</span>
  57 |     | <span class='neutral'>        __Pausable_init_unchained();</span>
  58 |     | <span class='neutral'>    }</span>
  59 |     | <span class='neutral'></span>
  60 |     | <span class='neutral'>    function __Pausable_init_unchained() internal onlyInitializing {</span>
  61 |     | <span class='neutral'>        PausableStorage storage $ = _getPausableStorage();</span>
  62 |     | <span class='neutral'>        $._paused = false;</span>
  63 |     | <span class='neutral'>    }</span>
  64 |     | <span class='neutral'></span>
  65 |     | <span class='neutral'>    /**</span>
  66 |     | <span class='neutral'>     * @dev Modifier to make a function callable only when the contract is not paused.</span>
  67 |     | <span class='neutral'>     *</span>
  68 |     | <span class='neutral'>     * Requirements:</span>
  69 |     | <span class='neutral'>     *</span>
  70 |     | <span class='neutral'>     * - The contract must not be paused.</span>
  71 |     | <span class='neutral'>     */</span>
  72 |     | <span class='neutral'>    modifier whenNotPaused() {</span>
  73 |     | <span class='neutral'>        _requireNotPaused();</span>
  74 |     | <span class='neutral'>        _;</span>
  75 |     | <span class='neutral'>    }</span>
  76 |     | <span class='neutral'></span>
  77 |     | <span class='neutral'>    /**</span>
  78 |     | <span class='neutral'>     * @dev Modifier to make a function callable only when the contract is paused.</span>
  79 |     | <span class='neutral'>     *</span>
  80 |     | <span class='neutral'>     * Requirements:</span>
  81 |     | <span class='neutral'>     *</span>
  82 |     | <span class='neutral'>     * - The contract must be paused.</span>
  83 |     | <span class='neutral'>     */</span>
  84 |     | <span class='neutral'>    modifier whenPaused() {</span>
  85 |     | <span class='neutral'>        _requirePaused();</span>
  86 |     | <span class='neutral'>        _;</span>
  87 |     | <span class='neutral'>    }</span>
  88 |     | <span class='neutral'></span>
  89 |     | <span class='neutral'>    /**</span>
  90 |     | <span class='neutral'>     * @dev Returns true if the contract is paused, and false otherwise.</span>
  91 |     | <span class='neutral'>     */</span>
  92 |     | <span class='neutral'>    function paused() public view virtual returns (bool) {</span>
  93 |     | <span class='neutral'>        PausableStorage storage $ = _getPausableStorage();</span>
  94 |     | <span class='neutral'>        return $._paused;</span>
  95 |     | <span class='neutral'>    }</span>
  96 |     | <span class='neutral'></span>
  97 |     | <span class='neutral'>    /**</span>
  98 |     | <span class='neutral'>     * @dev Throws if the contract is paused.</span>
  99 |     | <span class='neutral'>     */</span>
 100 |     | <span class='neutral'>    function _requireNotPaused() internal view virtual {</span>
 101 |     | <span class='neutral'>        if (paused()) {</span>
 102 |     | <span class='neutral'>            revert EnforcedPause();</span>
 103 |     | <span class='neutral'>        }</span>
 104 |     | <span class='neutral'>    }</span>
 105 |     | <span class='neutral'></span>
 106 |     | <span class='neutral'>    /**</span>
 107 |     | <span class='neutral'>     * @dev Throws if the contract is not paused.</span>
 108 |     | <span class='neutral'>     */</span>
 109 |     | <span class='neutral'>    function _requirePaused() internal view virtual {</span>
 110 |     | <span class='neutral'>        if (!paused()) {</span>
 111 |     | <span class='neutral'>            revert ExpectedPause();</span>
 112 |     | <span class='neutral'>        }</span>
 113 |     | <span class='neutral'>    }</span>
 114 |     | <span class='neutral'></span>
 115 |     | <span class='neutral'>    /**</span>
 116 |     | <span class='neutral'>     * @dev Triggers stopped state.</span>
 117 |     | <span class='neutral'>     *</span>
 118 |     | <span class='neutral'>     * Requirements:</span>
 119 |     | <span class='neutral'>     *</span>
 120 |     | <span class='neutral'>     * - The contract must not be paused.</span>
 121 |     | <span class='neutral'>     */</span>
 122 |     | <span class='neutral'>    function _pause() internal virtual whenNotPaused {</span>
 123 |     | <span class='neutral'>        PausableStorage storage $ = _getPausableStorage();</span>
 124 |     | <span class='neutral'>        $._paused = true;</span>
 125 |     | <span class='neutral'>        emit Paused(_msgSender());</span>
 126 |     | <span class='neutral'>    }</span>
 127 |     | <span class='neutral'></span>
 128 |     | <span class='neutral'>    /**</span>
 129 |     | <span class='neutral'>     * @dev Returns to normal state.</span>
 130 |     | <span class='neutral'>     *</span>
 131 |     | <span class='neutral'>     * Requirements:</span>
 132 |     | <span class='neutral'>     *</span>
 133 |     | <span class='neutral'>     * - The contract must be paused.</span>
 134 |     | <span class='neutral'>     */</span>
 135 |     | <span class='neutral'>    function _unpause() internal virtual whenPaused {</span>
 136 |     | <span class='neutral'>        PausableStorage storage $ = _getPausableStorage();</span>
 137 |     | <span class='neutral'>        $._paused = false;</span>
 138 |     | <span class='neutral'>        emit Unpaused(_msgSender());</span>
 139 |     | <span class='neutral'>    }</span>
 140 |     | <span class='neutral'>}</span>
 141 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/lib/openzeppelin-contracts-upgradeable/contracts/utils/introspection/ERC165Upgradeable.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (utils/introspection/ERC165.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>import {IERC165} from &quot;@openzeppelin/contracts/utils/introspection/IERC165.sol&quot;;</span>
  7 |     | <span class='neutral'>import {Initializable} from &quot;../../proxy/utils/Initializable.sol&quot;;</span>
  8 |     | <span class='neutral'></span>
  9 |     | <span class='neutral'>/**</span>
 10 |     | <span class='neutral'> * @dev Implementation of the {IERC165} interface.</span>
 11 |     | <span class='neutral'> *</span>
 12 |     | <span class='neutral'> * Contracts that want to implement ERC165 should inherit from this contract and override {supportsInterface} to check</span>
 13 |     | <span class='neutral'> * for the additional interface id that will be supported. For example:</span>
 14 |     | <span class='neutral'> *</span>
 15 |     | <span class='neutral'> * ```solidity</span>
 16 |     | <span class='neutral'> * function supportsInterface(bytes4 interfaceId) public view virtual override returns (bool) {</span>
 17 |     | <span class='neutral'> *     return interfaceId == type(MyInterface).interfaceId || super.supportsInterface(interfaceId);</span>
 18 |     | <span class='neutral'> * }</span>
 19 |     | <span class='neutral'> * ```</span>
 20 |     | <span class='neutral'> */</span>
 21 |     | <span class='neutral'>abstract contract ERC165Upgradeable is Initializable, IERC165 {</span>
 22 |     | <span class='neutral'>    function __ERC165_init() internal onlyInitializing {</span>
 23 |     | <span class='neutral'>    }</span>
 24 |     | <span class='neutral'></span>
 25 |     | <span class='neutral'>    function __ERC165_init_unchained() internal onlyInitializing {</span>
 26 |     | <span class='neutral'>    }</span>
 27 |     | <span class='neutral'>    /**</span>
 28 |     | <span class='neutral'>     * @dev See {IERC165-supportsInterface}.</span>
 29 |     | <span class='neutral'>     */</span>
 30 |     | <span class='neutral'>    function supportsInterface(bytes4 interfaceId) public view virtual returns (bool) {</span>
 31 |     | <span class='unexecuted'>        return interfaceId == type(IERC165).interfaceId;</span>
 32 |     | <span class='neutral'>    }</span>
 33 |     | <span class='neutral'>}</span>
 34 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/lib/openzeppelin-contracts/contracts/access/IAccessControl.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (access/IAccessControl.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>/**</span>
   7 |     | <span class='neutral'> * @dev External interface of AccessControl declared to support ERC165 detection.</span>
   8 |     | <span class='neutral'> */</span>
   9 |     | <span class='neutral'>interface IAccessControl {</span>
  10 |     | <span class='neutral'>    /**</span>
  11 |     | <span class='neutral'>     * @dev The `account` is missing a role.</span>
  12 |     | <span class='neutral'>     */</span>
  13 |     | <span class='neutral'>    error AccessControlUnauthorizedAccount(address account, bytes32 neededRole);</span>
  14 |     | <span class='neutral'></span>
  15 |     | <span class='neutral'>    /**</span>
  16 |     | <span class='neutral'>     * @dev The caller of a function is not the expected one.</span>
  17 |     | <span class='neutral'>     *</span>
  18 |     | <span class='neutral'>     * NOTE: Don&#39;t confuse with {AccessControlUnauthorizedAccount}.</span>
  19 |     | <span class='neutral'>     */</span>
  20 |     | <span class='neutral'>    error AccessControlBadConfirmation();</span>
  21 |     | <span class='neutral'></span>
  22 |     | <span class='neutral'>    /**</span>
  23 |     | <span class='neutral'>     * @dev Emitted when `newAdminRole` is set as ``role``&#39;s admin role, replacing `previousAdminRole`</span>
  24 |     | <span class='neutral'>     *</span>
  25 |     | <span class='neutral'>     * `DEFAULT_ADMIN_ROLE` is the starting admin for all roles, despite</span>
  26 |     | <span class='neutral'>     * {RoleAdminChanged} not being emitted signaling this.</span>
  27 |     | <span class='neutral'>     */</span>
  28 |     | <span class='neutral'>    event RoleAdminChanged(bytes32 indexed role, bytes32 indexed previousAdminRole, bytes32 indexed newAdminRole);</span>
  29 |     | <span class='neutral'></span>
  30 |     | <span class='neutral'>    /**</span>
  31 |     | <span class='neutral'>     * @dev Emitted when `account` is granted `role`.</span>
  32 |     | <span class='neutral'>     *</span>
  33 |     | <span class='neutral'>     * `sender` is the account that originated the contract call, an admin role</span>
  34 |     | <span class='neutral'>     * bearer except when using {AccessControl-_setupRole}.</span>
  35 |     | <span class='neutral'>     */</span>
  36 |     | <span class='neutral'>    event RoleGranted(bytes32 indexed role, address indexed account, address indexed sender);</span>
  37 |     | <span class='neutral'></span>
  38 |     | <span class='neutral'>    /**</span>
  39 |     | <span class='neutral'>     * @dev Emitted when `account` is revoked `role`.</span>
  40 |     | <span class='neutral'>     *</span>
  41 |     | <span class='neutral'>     * `sender` is the account that originated the contract call:</span>
  42 |     | <span class='neutral'>     *   - if using `revokeRole`, it is the admin role bearer</span>
  43 |     | <span class='neutral'>     *   - if using `renounceRole`, it is the role bearer (i.e. `account`)</span>
  44 |     | <span class='neutral'>     */</span>
  45 |     | <span class='neutral'>    event RoleRevoked(bytes32 indexed role, address indexed account, address indexed sender);</span>
  46 |     | <span class='neutral'></span>
  47 |     | <span class='neutral'>    /**</span>
  48 |     | <span class='neutral'>     * @dev Returns `true` if `account` has been granted `role`.</span>
  49 |     | <span class='neutral'>     */</span>
  50 |     | <span class='neutral'>    function hasRole(bytes32 role, address account) external view returns (bool);</span>
  51 |     | <span class='neutral'></span>
  52 |     | <span class='neutral'>    /**</span>
  53 |     | <span class='neutral'>     * @dev Returns the admin role that controls `role`. See {grantRole} and</span>
  54 |     | <span class='neutral'>     * {revokeRole}.</span>
  55 |     | <span class='neutral'>     *</span>
  56 |     | <span class='neutral'>     * To change a role&#39;s admin, use {AccessControl-_setRoleAdmin}.</span>
  57 |     | <span class='neutral'>     */</span>
  58 |     | <span class='neutral'>    function getRoleAdmin(bytes32 role) external view returns (bytes32);</span>
  59 |     | <span class='neutral'></span>
  60 |     | <span class='neutral'>    /**</span>
  61 |     | <span class='neutral'>     * @dev Grants `role` to `account`.</span>
  62 |     | <span class='neutral'>     *</span>
  63 |     | <span class='neutral'>     * If `account` had not been already granted `role`, emits a {RoleGranted}</span>
  64 |     | <span class='neutral'>     * event.</span>
  65 |     | <span class='neutral'>     *</span>
  66 |     | <span class='neutral'>     * Requirements:</span>
  67 |     | <span class='neutral'>     *</span>
  68 |     | <span class='neutral'>     * - the caller must have ``role``&#39;s admin role.</span>
  69 |     | <span class='neutral'>     */</span>
  70 |     | <span class='neutral'>    function grantRole(bytes32 role, address account) external;</span>
  71 |     | <span class='neutral'></span>
  72 |     | <span class='neutral'>    /**</span>
  73 |     | <span class='neutral'>     * @dev Revokes `role` from `account`.</span>
  74 |     | <span class='neutral'>     *</span>
  75 |     | <span class='neutral'>     * If `account` had been granted `role`, emits a {RoleRevoked} event.</span>
  76 |     | <span class='neutral'>     *</span>
  77 |     | <span class='neutral'>     * Requirements:</span>
  78 |     | <span class='neutral'>     *</span>
  79 |     | <span class='neutral'>     * - the caller must have ``role``&#39;s admin role.</span>
  80 |     | <span class='neutral'>     */</span>
  81 |     | <span class='neutral'>    function revokeRole(bytes32 role, address account) external;</span>
  82 |     | <span class='neutral'></span>
  83 |     | <span class='neutral'>    /**</span>
  84 |     | <span class='neutral'>     * @dev Revokes `role` from the calling account.</span>
  85 |     | <span class='neutral'>     *</span>
  86 |     | <span class='neutral'>     * Roles are often managed via {grantRole} and {revokeRole}: this function&#39;s</span>
  87 |     | <span class='neutral'>     * purpose is to provide a mechanism for accounts to lose their privileges</span>
  88 |     | <span class='neutral'>     * if they are compromised (such as when a trusted device is misplaced).</span>
  89 |     | <span class='neutral'>     *</span>
  90 |     | <span class='neutral'>     * If the calling account had been granted `role`, emits a {RoleRevoked}</span>
  91 |     | <span class='neutral'>     * event.</span>
  92 |     | <span class='neutral'>     *</span>
  93 |     | <span class='neutral'>     * Requirements:</span>
  94 |     | <span class='neutral'>     *</span>
  95 |     | <span class='neutral'>     * - the caller must be `callerConfirmation`.</span>
  96 |     | <span class='neutral'>     */</span>
  97 |     | <span class='neutral'>    function renounceRole(bytes32 role, address callerConfirmation) external;</span>
  98 |     | <span class='neutral'>}</span>
  99 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/lib/openzeppelin-contracts/contracts/interfaces/draft-IERC1822.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (interfaces/draft-IERC1822.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>/**</span>
  7 |     | <span class='neutral'> * @dev ERC1822: Universal Upgradeable Proxy Standard (UUPS) documents a method for upgradeability through a simplified</span>
  8 |     | <span class='neutral'> * proxy whose upgrades are fully controlled by the current implementation.</span>
  9 |     | <span class='neutral'> */</span>
 10 |     | <span class='neutral'>interface IERC1822Proxiable {</span>
 11 |     | <span class='neutral'>    /**</span>
 12 |     | <span class='neutral'>     * @dev Returns the storage slot that the proxiable contract assumes is being used to store the implementation</span>
 13 |     | <span class='neutral'>     * address.</span>
 14 |     | <span class='neutral'>     *</span>
 15 |     | <span class='neutral'>     * IMPORTANT: A proxy pointing at a proxiable contract should not be considered proxiable itself, because this risks</span>
 16 |     | <span class='neutral'>     * bricking a proxy that upgrades to it, by delegating to itself until out of gas. Thus it is critical that this</span>
 17 |     | <span class='neutral'>     * function revert if invoked through a proxy.</span>
 18 |     | <span class='neutral'>     */</span>
 19 |     | <span class='neutral'>    function proxiableUUID() external view returns (bytes32);</span>
 20 |     | <span class='neutral'>}</span>
 21 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/lib/openzeppelin-contracts/contracts/proxy/ERC1967/ERC1967Utils.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (proxy/ERC1967/ERC1967Utils.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>import {IBeacon} from &quot;../beacon/IBeacon.sol&quot;;</span>
   7 |     | <span class='neutral'>import {Address} from &quot;../../utils/Address.sol&quot;;</span>
   8 |     | <span class='neutral'>import {StorageSlot} from &quot;../../utils/StorageSlot.sol&quot;;</span>
   9 |     | <span class='neutral'></span>
  10 |     | <span class='neutral'>/**</span>
  11 |     | <span class='neutral'> * @dev This abstract contract provides getters and event emitting update functions for</span>
  12 |     | <span class='neutral'> * https://eips.ethereum.org/EIPS/eip-1967[EIP1967] slots.</span>
  13 |     | <span class='neutral'> */</span>
  14 |     | <span class='unexecuted'>library ERC1967Utils {</span>
  15 |     | <span class='neutral'>    // We re-declare ERC-1967 events here because they can&#39;t be used directly from IERC1967.</span>
  16 |     | <span class='neutral'>    // This will be fixed in Solidity 0.8.21. At that point we should remove these events.</span>
  17 |     | <span class='neutral'>    /**</span>
  18 |     | <span class='neutral'>     * @dev Emitted when the implementation is upgraded.</span>
  19 |     | <span class='neutral'>     */</span>
  20 |     | <span class='neutral'>    event Upgraded(address indexed implementation);</span>
  21 |     | <span class='neutral'></span>
  22 |     | <span class='neutral'>    /**</span>
  23 |     | <span class='neutral'>     * @dev Emitted when the admin account has changed.</span>
  24 |     | <span class='neutral'>     */</span>
  25 |     | <span class='neutral'>    event AdminChanged(address previousAdmin, address newAdmin);</span>
  26 |     | <span class='neutral'></span>
  27 |     | <span class='neutral'>    /**</span>
  28 |     | <span class='neutral'>     * @dev Emitted when the beacon is changed.</span>
  29 |     | <span class='neutral'>     */</span>
  30 |     | <span class='neutral'>    event BeaconUpgraded(address indexed beacon);</span>
  31 |     | <span class='neutral'></span>
  32 |     | <span class='neutral'>    /**</span>
  33 |     | <span class='neutral'>     * @dev Storage slot with the address of the current implementation.</span>
  34 |     | <span class='neutral'>     * This is the keccak-256 hash of &quot;eip1967.proxy.implementation&quot; subtracted by 1.</span>
  35 |     | <span class='neutral'>     */</span>
  36 |     | <span class='neutral'>    // solhint-disable-next-line private-vars-leading-underscore</span>
  37 |     | <span class='unexecuted'>    bytes32 internal constant IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;</span>
  38 |     | <span class='neutral'></span>
  39 |     | <span class='neutral'>    /**</span>
  40 |     | <span class='neutral'>     * @dev The `implementation` of the proxy is invalid.</span>
  41 |     | <span class='neutral'>     */</span>
  42 |     | <span class='neutral'>    error ERC1967InvalidImplementation(address implementation);</span>
  43 |     | <span class='neutral'></span>
  44 |     | <span class='neutral'>    /**</span>
  45 |     | <span class='neutral'>     * @dev The `admin` of the proxy is invalid.</span>
  46 |     | <span class='neutral'>     */</span>
  47 |     | <span class='neutral'>    error ERC1967InvalidAdmin(address admin);</span>
  48 |     | <span class='neutral'></span>
  49 |     | <span class='neutral'>    /**</span>
  50 |     | <span class='neutral'>     * @dev The `beacon` of the proxy is invalid.</span>
  51 |     | <span class='neutral'>     */</span>
  52 |     | <span class='neutral'>    error ERC1967InvalidBeacon(address beacon);</span>
  53 |     | <span class='neutral'></span>
  54 |     | <span class='neutral'>    /**</span>
  55 |     | <span class='neutral'>     * @dev An upgrade function sees `msg.value &gt; 0` that may be lost.</span>
  56 |     | <span class='neutral'>     */</span>
  57 |     | <span class='neutral'>    error ERC1967NonPayable();</span>
  58 |     | <span class='neutral'></span>
  59 |     | <span class='neutral'>    /**</span>
  60 |     | <span class='neutral'>     * @dev Returns the current implementation address.</span>
  61 |     | <span class='neutral'>     */</span>
  62 |     | <span class='neutral'>    function getImplementation() internal view returns (address) {</span>
  63 |     | <span class='neutral'>        return StorageSlot.getAddressSlot(IMPLEMENTATION_SLOT).value;</span>
  64 |     | <span class='neutral'>    }</span>
  65 |     | <span class='neutral'></span>
  66 |     | <span class='neutral'>    /**</span>
  67 |     | <span class='neutral'>     * @dev Stores a new address in the EIP1967 implementation slot.</span>
  68 |     | <span class='neutral'>     */</span>
  69 |     | <span class='neutral'>    function _setImplementation(address newImplementation) private {</span>
  70 |     | <span class='unexecuted'>        if (newImplementation.code.length == 0) {</span>
  71 |     | <span class='unexecuted'>            revert ERC1967InvalidImplementation(newImplementation);</span>
  72 |     | <span class='neutral'>        }</span>
  73 |     | <span class='neutral'>        StorageSlot.getAddressSlot(IMPLEMENTATION_SLOT).value = newImplementation;</span>
  74 |     | <span class='neutral'>    }</span>
  75 |     | <span class='neutral'></span>
  76 |     | <span class='neutral'>    /**</span>
  77 |     | <span class='neutral'>     * @dev Performs implementation upgrade with additional setup call if data is nonempty.</span>
  78 |     | <span class='neutral'>     * This function is payable only if the setup call is performed, otherwise `msg.value` is rejected</span>
  79 |     | <span class='neutral'>     * to avoid stuck value in the contract.</span>
  80 |     | <span class='neutral'>     *</span>
  81 |     | <span class='neutral'>     * Emits an {IERC1967-Upgraded} event.</span>
  82 |     | <span class='neutral'>     */</span>
  83 |     | <span class='neutral'>    function upgradeToAndCall(address newImplementation, bytes memory data) internal {</span>
  84 |     | <span class='neutral'>        _setImplementation(newImplementation);</span>
  85 |     | <span class='unexecuted'>        emit Upgraded(newImplementation);</span>
  86 |     | <span class='neutral'></span>
  87 |     | <span class='unexecuted'>        if (data.length &gt; 0) {</span>
  88 |     | <span class='neutral'>            Address.functionDelegateCall(newImplementation, data);</span>
  89 |     | <span class='neutral'>        } else {</span>
  90 |     | <span class='neutral'>            _checkNonPayable();</span>
  91 |     | <span class='neutral'>        }</span>
  92 |     | <span class='neutral'>    }</span>
  93 |     | <span class='neutral'></span>
  94 |     | <span class='neutral'>    /**</span>
  95 |     | <span class='neutral'>     * @dev Storage slot with the admin of the contract.</span>
  96 |     | <span class='neutral'>     * This is the keccak-256 hash of &quot;eip1967.proxy.admin&quot; subtracted by 1.</span>
  97 |     | <span class='neutral'>     */</span>
  98 |     | <span class='neutral'>    // solhint-disable-next-line private-vars-leading-underscore</span>
  99 |     | <span class='neutral'>    bytes32 internal constant ADMIN_SLOT = 0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103;</span>
 100 |     | <span class='neutral'></span>
 101 |     | <span class='neutral'>    /**</span>
 102 |     | <span class='neutral'>     * @dev Returns the current admin.</span>
 103 |     | <span class='neutral'>     *</span>
 104 |     | <span class='neutral'>     * TIP: To get this value clients can read directly from the storage slot shown below (specified by EIP1967) using</span>
 105 |     | <span class='neutral'>     * the https://eth.wiki/json-rpc/API#eth_getstorageat[`eth_getStorageAt`] RPC call.</span>
 106 |     | <span class='neutral'>     * `0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103`</span>
 107 |     | <span class='neutral'>     */</span>
 108 |     | <span class='neutral'>    function getAdmin() internal view returns (address) {</span>
 109 |     | <span class='neutral'>        return StorageSlot.getAddressSlot(ADMIN_SLOT).value;</span>
 110 |     | <span class='neutral'>    }</span>
 111 |     | <span class='neutral'></span>
 112 |     | <span class='neutral'>    /**</span>
 113 |     | <span class='neutral'>     * @dev Stores a new address in the EIP1967 admin slot.</span>
 114 |     | <span class='neutral'>     */</span>
 115 |     | <span class='neutral'>    function _setAdmin(address newAdmin) private {</span>
 116 |     | <span class='neutral'>        if (newAdmin == address(0)) {</span>
 117 |     | <span class='neutral'>            revert ERC1967InvalidAdmin(address(0));</span>
 118 |     | <span class='neutral'>        }</span>
 119 |     | <span class='neutral'>        StorageSlot.getAddressSlot(ADMIN_SLOT).value = newAdmin;</span>
 120 |     | <span class='neutral'>    }</span>
 121 |     | <span class='neutral'></span>
 122 |     | <span class='neutral'>    /**</span>
 123 |     | <span class='neutral'>     * @dev Changes the admin of the proxy.</span>
 124 |     | <span class='neutral'>     *</span>
 125 |     | <span class='neutral'>     * Emits an {IERC1967-AdminChanged} event.</span>
 126 |     | <span class='neutral'>     */</span>
 127 |     | <span class='neutral'>    function changeAdmin(address newAdmin) internal {</span>
 128 |     | <span class='neutral'>        emit AdminChanged(getAdmin(), newAdmin);</span>
 129 |     | <span class='neutral'>        _setAdmin(newAdmin);</span>
 130 |     | <span class='neutral'>    }</span>
 131 |     | <span class='neutral'></span>
 132 |     | <span class='neutral'>    /**</span>
 133 |     | <span class='neutral'>     * @dev The storage slot of the UpgradeableBeacon contract which defines the implementation for this proxy.</span>
 134 |     | <span class='neutral'>     * This is the keccak-256 hash of &quot;eip1967.proxy.beacon&quot; subtracted by 1.</span>
 135 |     | <span class='neutral'>     */</span>
 136 |     | <span class='neutral'>    // solhint-disable-next-line private-vars-leading-underscore</span>
 137 |     | <span class='neutral'>    bytes32 internal constant BEACON_SLOT = 0xa3f0ad74e5423aebfd80d3ef4346578335a9a72aeaee59ff6cb3582b35133d50;</span>
 138 |     | <span class='neutral'></span>
 139 |     | <span class='neutral'>    /**</span>
 140 |     | <span class='neutral'>     * @dev Returns the current beacon.</span>
 141 |     | <span class='neutral'>     */</span>
 142 |     | <span class='neutral'>    function getBeacon() internal view returns (address) {</span>
 143 |     | <span class='neutral'>        return StorageSlot.getAddressSlot(BEACON_SLOT).value;</span>
 144 |     | <span class='neutral'>    }</span>
 145 |     | <span class='neutral'></span>
 146 |     | <span class='neutral'>    /**</span>
 147 |     | <span class='neutral'>     * @dev Stores a new beacon in the EIP1967 beacon slot.</span>
 148 |     | <span class='neutral'>     */</span>
 149 |     | <span class='neutral'>    function _setBeacon(address newBeacon) private {</span>
 150 |     | <span class='neutral'>        if (newBeacon.code.length == 0) {</span>
 151 |     | <span class='neutral'>            revert ERC1967InvalidBeacon(newBeacon);</span>
 152 |     | <span class='neutral'>        }</span>
 153 |     | <span class='neutral'></span>
 154 |     | <span class='neutral'>        StorageSlot.getAddressSlot(BEACON_SLOT).value = newBeacon;</span>
 155 |     | <span class='neutral'></span>
 156 |     | <span class='neutral'>        address beaconImplementation = IBeacon(newBeacon).implementation();</span>
 157 |     | <span class='neutral'>        if (beaconImplementation.code.length == 0) {</span>
 158 |     | <span class='neutral'>            revert ERC1967InvalidImplementation(beaconImplementation);</span>
 159 |     | <span class='neutral'>        }</span>
 160 |     | <span class='neutral'>    }</span>
 161 |     | <span class='neutral'></span>
 162 |     | <span class='neutral'>    /**</span>
 163 |     | <span class='neutral'>     * @dev Change the beacon and trigger a setup call if data is nonempty.</span>
 164 |     | <span class='neutral'>     * This function is payable only if the setup call is performed, otherwise `msg.value` is rejected</span>
 165 |     | <span class='neutral'>     * to avoid stuck value in the contract.</span>
 166 |     | <span class='neutral'>     *</span>
 167 |     | <span class='neutral'>     * Emits an {IERC1967-BeaconUpgraded} event.</span>
 168 |     | <span class='neutral'>     *</span>
 169 |     | <span class='neutral'>     * CAUTION: Invoking this function has no effect on an instance of {BeaconProxy} since v5, since</span>
 170 |     | <span class='neutral'>     * it uses an immutable beacon without looking at the value of the ERC-1967 beacon slot for</span>
 171 |     | <span class='neutral'>     * efficiency.</span>
 172 |     | <span class='neutral'>     */</span>
 173 |     | <span class='neutral'>    function upgradeBeaconToAndCall(address newBeacon, bytes memory data) internal {</span>
 174 |     | <span class='neutral'>        _setBeacon(newBeacon);</span>
 175 |     | <span class='neutral'>        emit BeaconUpgraded(newBeacon);</span>
 176 |     | <span class='neutral'></span>
 177 |     | <span class='neutral'>        if (data.length &gt; 0) {</span>
 178 |     | <span class='neutral'>            Address.functionDelegateCall(IBeacon(newBeacon).implementation(), data);</span>
 179 |     | <span class='neutral'>        } else {</span>
 180 |     | <span class='neutral'>            _checkNonPayable();</span>
 181 |     | <span class='neutral'>        }</span>
 182 |     | <span class='neutral'>    }</span>
 183 |     | <span class='neutral'></span>
 184 |     | <span class='neutral'>    /**</span>
 185 |     | <span class='neutral'>     * @dev Reverts if `msg.value` is not zero. It can be used to avoid `msg.value` stuck in the contract</span>
 186 |     | <span class='neutral'>     * if an upgrade doesn&#39;t perform an initialization call.</span>
 187 |     | <span class='neutral'>     */</span>
 188 |     | <span class='neutral'>    function _checkNonPayable() private {</span>
 189 |     | <span class='unexecuted'>        if (msg.value &gt; 0) {</span>
 190 |     | <span class='unexecuted'>            revert ERC1967NonPayable();</span>
 191 |     | <span class='neutral'>        }</span>
 192 |     | <span class='neutral'>    }</span>
 193 |     | <span class='neutral'>}</span>
 194 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/lib/openzeppelin-contracts/contracts/proxy/beacon/IBeacon.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (proxy/beacon/IBeacon.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>/**</span>
  7 |     | <span class='neutral'> * @dev This is the interface that {BeaconProxy} expects of its beacon.</span>
  8 |     | <span class='neutral'> */</span>
  9 |     | <span class='neutral'>interface IBeacon {</span>
 10 |     | <span class='neutral'>    /**</span>
 11 |     | <span class='neutral'>     * @dev Must return an address that can be used as a delegate call target.</span>
 12 |     | <span class='neutral'>     *</span>
 13 |     | <span class='neutral'>     * {UpgradeableBeacon} will check that this address is a contract.</span>
 14 |     | <span class='neutral'>     */</span>
 15 |     | <span class='neutral'>    function implementation() external view returns (address);</span>
 16 |     | <span class='neutral'>}</span>
 17 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/lib/openzeppelin-contracts/contracts/utils/Address.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (utils/Address.sol)</span>
   3 |     | <span class='neutral'></span>
   4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   5 |     | <span class='neutral'></span>
   6 |     | <span class='neutral'>/**</span>
   7 |     | <span class='neutral'> * @dev Collection of functions related to the address type</span>
   8 |     | <span class='neutral'> */</span>
   9 |     | <span class='unexecuted'>library Address {</span>
  10 |     | <span class='neutral'>    /**</span>
  11 |     | <span class='neutral'>     * @dev The ETH balance of the account is not enough to perform the operation.</span>
  12 |     | <span class='neutral'>     */</span>
  13 |     | <span class='neutral'>    error AddressInsufficientBalance(address account);</span>
  14 |     | <span class='neutral'></span>
  15 |     | <span class='neutral'>    /**</span>
  16 |     | <span class='neutral'>     * @dev There&#39;s no code at `target` (it is not a contract).</span>
  17 |     | <span class='neutral'>     */</span>
  18 |     | <span class='neutral'>    error AddressEmptyCode(address target);</span>
  19 |     | <span class='neutral'></span>
  20 |     | <span class='neutral'>    /**</span>
  21 |     | <span class='neutral'>     * @dev A call to an address target failed. The target may have reverted.</span>
  22 |     | <span class='neutral'>     */</span>
  23 |     | <span class='neutral'>    error FailedInnerCall();</span>
  24 |     | <span class='neutral'></span>
  25 |     | <span class='neutral'>    /**</span>
  26 |     | <span class='neutral'>     * @dev Replacement for Solidity&#39;s `transfer`: sends `amount` wei to</span>
  27 |     | <span class='neutral'>     * `recipient`, forwarding all available gas and reverting on errors.</span>
  28 |     | <span class='neutral'>     *</span>
  29 |     | <span class='neutral'>     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost</span>
  30 |     | <span class='neutral'>     * of certain opcodes, possibly making contracts go over the 2300 gas limit</span>
  31 |     | <span class='neutral'>     * imposed by `transfer`, making them unable to receive funds via</span>
  32 |     | <span class='neutral'>     * `transfer`. {sendValue} removes this limitation.</span>
  33 |     | <span class='neutral'>     *</span>
  34 |     | <span class='neutral'>     * https://consensys.net/diligence/blog/2019/09/stop-using-soliditys-transfer-now/[Learn more].</span>
  35 |     | <span class='neutral'>     *</span>
  36 |     | <span class='neutral'>     * IMPORTANT: because control is transferred to `recipient`, care must be</span>
  37 |     | <span class='neutral'>     * taken to not create reentrancy vulnerabilities. Consider using</span>
  38 |     | <span class='neutral'>     * {ReentrancyGuard} or the</span>
  39 |     | <span class='neutral'>     * https://solidity.readthedocs.io/en/v0.8.20/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].</span>
  40 |     | <span class='neutral'>     */</span>
  41 |     | <span class='neutral'>    function sendValue(address payable recipient, uint256 amount) internal {</span>
  42 |     | <span class='neutral'>        if (address(this).balance &lt; amount) {</span>
  43 |     | <span class='neutral'>            revert AddressInsufficientBalance(address(this));</span>
  44 |     | <span class='neutral'>        }</span>
  45 |     | <span class='neutral'></span>
  46 |     | <span class='neutral'>        (bool success, ) = recipient.call{value: amount}(&quot;&quot;);</span>
  47 |     | <span class='neutral'>        if (!success) {</span>
  48 |     | <span class='neutral'>            revert FailedInnerCall();</span>
  49 |     | <span class='neutral'>        }</span>
  50 |     | <span class='neutral'>    }</span>
  51 |     | <span class='neutral'></span>
  52 |     | <span class='neutral'>    /**</span>
  53 |     | <span class='neutral'>     * @dev Performs a Solidity function call using a low level `call`. A</span>
  54 |     | <span class='neutral'>     * plain `call` is an unsafe replacement for a function call: use this</span>
  55 |     | <span class='neutral'>     * function instead.</span>
  56 |     | <span class='neutral'>     *</span>
  57 |     | <span class='neutral'>     * If `target` reverts with a revert reason or custom error, it is bubbled</span>
  58 |     | <span class='neutral'>     * up by this function (like regular Solidity function calls). However, if</span>
  59 |     | <span class='neutral'>     * the call reverted with no returned reason, this function reverts with a</span>
  60 |     | <span class='neutral'>     * {FailedInnerCall} error.</span>
  61 |     | <span class='neutral'>     *</span>
  62 |     | <span class='neutral'>     * Returns the raw returned data. To convert to the expected return value,</span>
  63 |     | <span class='neutral'>     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].</span>
  64 |     | <span class='neutral'>     *</span>
  65 |     | <span class='neutral'>     * Requirements:</span>
  66 |     | <span class='neutral'>     *</span>
  67 |     | <span class='neutral'>     * - `target` must be a contract.</span>
  68 |     | <span class='neutral'>     * - calling `target` with `data` must not revert.</span>
  69 |     | <span class='neutral'>     */</span>
  70 |     | <span class='neutral'>    function functionCall(address target, bytes memory data) internal returns (bytes memory) {</span>
  71 |     | <span class='neutral'>        return functionCallWithValue(target, data, 0);</span>
  72 |     | <span class='neutral'>    }</span>
  73 |     | <span class='neutral'></span>
  74 |     | <span class='neutral'>    /**</span>
  75 |     | <span class='neutral'>     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],</span>
  76 |     | <span class='neutral'>     * but also transferring `value` wei to `target`.</span>
  77 |     | <span class='neutral'>     *</span>
  78 |     | <span class='neutral'>     * Requirements:</span>
  79 |     | <span class='neutral'>     *</span>
  80 |     | <span class='neutral'>     * - the calling contract must have an ETH balance of at least `value`.</span>
  81 |     | <span class='neutral'>     * - the called Solidity function must be `payable`.</span>
  82 |     | <span class='neutral'>     */</span>
  83 |     | <span class='neutral'>    function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory) {</span>
  84 |     | <span class='neutral'>        if (address(this).balance &lt; value) {</span>
  85 |     | <span class='neutral'>            revert AddressInsufficientBalance(address(this));</span>
  86 |     | <span class='neutral'>        }</span>
  87 |     | <span class='neutral'>        (bool success, bytes memory returndata) = target.call{value: value}(data);</span>
  88 |     | <span class='neutral'>        return verifyCallResultFromTarget(target, success, returndata);</span>
  89 |     | <span class='neutral'>    }</span>
  90 |     | <span class='neutral'></span>
  91 |     | <span class='neutral'>    /**</span>
  92 |     | <span class='neutral'>     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],</span>
  93 |     | <span class='neutral'>     * but performing a static call.</span>
  94 |     | <span class='neutral'>     */</span>
  95 |     | <span class='neutral'>    function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory) {</span>
  96 |     | <span class='neutral'>        (bool success, bytes memory returndata) = target.staticcall(data);</span>
  97 |     | <span class='neutral'>        return verifyCallResultFromTarget(target, success, returndata);</span>
  98 |     | <span class='neutral'>    }</span>
  99 |     | <span class='neutral'></span>
 100 |     | <span class='neutral'>    /**</span>
 101 |     | <span class='neutral'>     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],</span>
 102 |     | <span class='neutral'>     * but performing a delegate call.</span>
 103 |     | <span class='neutral'>     */</span>
 104 |     | <span class='neutral'>    function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory) {</span>
 105 |     | <span class='unexecuted'>        (bool success, bytes memory returndata) = target.delegatecall(data);</span>
 106 |     | <span class='unexecuted'>        return verifyCallResultFromTarget(target, success, returndata);</span>
 107 |     | <span class='neutral'>    }</span>
 108 |     | <span class='neutral'></span>
 109 |     | <span class='neutral'>    /**</span>
 110 |     | <span class='neutral'>     * @dev Tool to verify that a low level call to smart-contract was successful, and reverts if the target</span>
 111 |     | <span class='neutral'>     * was not a contract or bubbling up the revert reason (falling back to {FailedInnerCall}) in case of an</span>
 112 |     | <span class='neutral'>     * unsuccessful call.</span>
 113 |     | <span class='neutral'>     */</span>
 114 |     | <span class='unexecuted'>    function verifyCallResultFromTarget(</span>
 115 |     | <span class='neutral'>        address target,</span>
 116 |     | <span class='neutral'>        bool success,</span>
 117 |     | <span class='neutral'>        bytes memory returndata</span>
 118 |     | <span class='neutral'>    ) internal view returns (bytes memory) {</span>
 119 |     | <span class='unexecuted'>        if (!success) {</span>
 120 |     | <span class='neutral'>            _revert(returndata);</span>
 121 |     | <span class='neutral'>        } else {</span>
 122 |     | <span class='neutral'>            // only check if target is a contract if the call was successful and the return data is empty</span>
 123 |     | <span class='neutral'>            // otherwise we already know that it was a contract</span>
 124 |     | <span class='unexecuted'>            if (returndata.length == 0 &amp;&amp; target.code.length == 0) {</span>
 125 |     | <span class='unexecuted'>                revert AddressEmptyCode(target);</span>
 126 |     | <span class='neutral'>            }</span>
 127 |     | <span class='unexecuted'>            return returndata;</span>
 128 |     | <span class='neutral'>        }</span>
 129 |     | <span class='neutral'>    }</span>
 130 |     | <span class='neutral'></span>
 131 |     | <span class='neutral'>    /**</span>
 132 |     | <span class='neutral'>     * @dev Tool to verify that a low level call was successful, and reverts if it wasn&#39;t, either by bubbling the</span>
 133 |     | <span class='neutral'>     * revert reason or with a default {FailedInnerCall} error.</span>
 134 |     | <span class='neutral'>     */</span>
 135 |     | <span class='neutral'>    function verifyCallResult(bool success, bytes memory returndata) internal pure returns (bytes memory) {</span>
 136 |     | <span class='neutral'>        if (!success) {</span>
 137 |     | <span class='neutral'>            _revert(returndata);</span>
 138 |     | <span class='neutral'>        } else {</span>
 139 |     | <span class='neutral'>            return returndata;</span>
 140 |     | <span class='neutral'>        }</span>
 141 |     | <span class='neutral'>    }</span>
 142 |     | <span class='neutral'></span>
 143 |     | <span class='neutral'>    /**</span>
 144 |     | <span class='neutral'>     * @dev Reverts with returndata if present. Otherwise reverts with {FailedInnerCall}.</span>
 145 |     | <span class='neutral'>     */</span>
 146 |     | <span class='neutral'>    function _revert(bytes memory returndata) private pure {</span>
 147 |     | <span class='neutral'>        // Look for revert reason and bubble it up if present</span>
 148 |     | <span class='unexecuted'>        if (returndata.length &gt; 0) {</span>
 149 |     | <span class='neutral'>            // The easiest way to bubble the revert reason is using memory via assembly</span>
 150 |     | <span class='neutral'>            /// @solidity memory-safe-assembly</span>
 151 |     | <span class='unexecuted'>            assembly {</span>
 152 |     | <span class='neutral'>                let returndata_size := mload(returndata)</span>
 153 |     | <span class='neutral'>                revert(add(32, returndata), returndata_size)</span>
 154 |     | <span class='neutral'>            }</span>
 155 |     | <span class='neutral'>        } else {</span>
 156 |     | <span class='unexecuted'>            revert FailedInnerCall();</span>
 157 |     | <span class='neutral'>        }</span>
 158 |     | <span class='neutral'>    }</span>
 159 |     | <span class='neutral'>}</span>
 160 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/lib/openzeppelin-contracts/contracts/utils/StorageSlot.sol</b>
<code>
   1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
   2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (utils/StorageSlot.sol)</span>
   3 |     | <span class='neutral'>// This file was procedurally generated from scripts/generate/templates/StorageSlot.js.</span>
   4 |     | <span class='neutral'></span>
   5 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
   6 |     | <span class='neutral'></span>
   7 |     | <span class='neutral'>/**</span>
   8 |     | <span class='neutral'> * @dev Library for reading and writing primitive types to specific storage slots.</span>
   9 |     | <span class='neutral'> *</span>
  10 |     | <span class='neutral'> * Storage slots are often used to avoid storage conflict when dealing with upgradeable contracts.</span>
  11 |     | <span class='neutral'> * This library helps with reading and writing to such slots without the need for inline assembly.</span>
  12 |     | <span class='neutral'> *</span>
  13 |     | <span class='neutral'> * The functions in this library return Slot structs that contain a `value` member that can be used to read or write.</span>
  14 |     | <span class='neutral'> *</span>
  15 |     | <span class='neutral'> * Example usage to set ERC1967 implementation slot:</span>
  16 |     | <span class='neutral'> * ```solidity</span>
  17 |     | <span class='neutral'> * contract ERC1967 {</span>
  18 |     | <span class='neutral'> *     bytes32 internal constant _IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;</span>
  19 |     | <span class='neutral'> *</span>
  20 |     | <span class='neutral'> *     function _getImplementation() internal view returns (address) {</span>
  21 |     | <span class='neutral'> *         return StorageSlot.getAddressSlot(_IMPLEMENTATION_SLOT).value;</span>
  22 |     | <span class='neutral'> *     }</span>
  23 |     | <span class='neutral'> *</span>
  24 |     | <span class='neutral'> *     function _setImplementation(address newImplementation) internal {</span>
  25 |     | <span class='neutral'> *         require(newImplementation.code.length &gt; 0);</span>
  26 |     | <span class='neutral'> *         StorageSlot.getAddressSlot(_IMPLEMENTATION_SLOT).value = newImplementation;</span>
  27 |     | <span class='neutral'> *     }</span>
  28 |     | <span class='neutral'> * }</span>
  29 |     | <span class='neutral'> * ```</span>
  30 |     | <span class='neutral'> */</span>
  31 |     | <span class='unexecuted'>library StorageSlot {</span>
  32 |     | <span class='neutral'>    struct AddressSlot {</span>
  33 |     | <span class='neutral'>        address value;</span>
  34 |     | <span class='neutral'>    }</span>
  35 |     | <span class='neutral'></span>
  36 |     | <span class='neutral'>    struct BooleanSlot {</span>
  37 |     | <span class='neutral'>        bool value;</span>
  38 |     | <span class='neutral'>    }</span>
  39 |     | <span class='neutral'></span>
  40 |     | <span class='neutral'>    struct Bytes32Slot {</span>
  41 |     | <span class='neutral'>        bytes32 value;</span>
  42 |     | <span class='neutral'>    }</span>
  43 |     | <span class='neutral'></span>
  44 |     | <span class='neutral'>    struct Uint256Slot {</span>
  45 |     | <span class='neutral'>        uint256 value;</span>
  46 |     | <span class='neutral'>    }</span>
  47 |     | <span class='neutral'></span>
  48 |     | <span class='neutral'>    struct StringSlot {</span>
  49 |     | <span class='neutral'>        string value;</span>
  50 |     | <span class='neutral'>    }</span>
  51 |     | <span class='neutral'></span>
  52 |     | <span class='neutral'>    struct BytesSlot {</span>
  53 |     | <span class='neutral'>        bytes value;</span>
  54 |     | <span class='neutral'>    }</span>
  55 |     | <span class='neutral'></span>
  56 |     | <span class='neutral'>    /**</span>
  57 |     | <span class='neutral'>     * @dev Returns an `AddressSlot` with member `value` located at `slot`.</span>
  58 |     | <span class='neutral'>     */</span>
  59 |     | <span class='neutral'>    function getAddressSlot(bytes32 slot) internal pure returns (AddressSlot storage r) {</span>
  60 |     | <span class='neutral'>        /// @solidity memory-safe-assembly</span>
  61 |     | <span class='neutral'>        assembly {</span>
  62 |     | <span class='neutral'>            r.slot := slot</span>
  63 |     | <span class='neutral'>        }</span>
  64 |     | <span class='neutral'>    }</span>
  65 |     | <span class='neutral'></span>
  66 |     | <span class='neutral'>    /**</span>
  67 |     | <span class='neutral'>     * @dev Returns an `BooleanSlot` with member `value` located at `slot`.</span>
  68 |     | <span class='neutral'>     */</span>
  69 |     | <span class='neutral'>    function getBooleanSlot(bytes32 slot) internal pure returns (BooleanSlot storage r) {</span>
  70 |     | <span class='neutral'>        /// @solidity memory-safe-assembly</span>
  71 |     | <span class='neutral'>        assembly {</span>
  72 |     | <span class='neutral'>            r.slot := slot</span>
  73 |     | <span class='neutral'>        }</span>
  74 |     | <span class='neutral'>    }</span>
  75 |     | <span class='neutral'></span>
  76 |     | <span class='neutral'>    /**</span>
  77 |     | <span class='neutral'>     * @dev Returns an `Bytes32Slot` with member `value` located at `slot`.</span>
  78 |     | <span class='neutral'>     */</span>
  79 |     | <span class='neutral'>    function getBytes32Slot(bytes32 slot) internal pure returns (Bytes32Slot storage r) {</span>
  80 |     | <span class='neutral'>        /// @solidity memory-safe-assembly</span>
  81 |     | <span class='neutral'>        assembly {</span>
  82 |     | <span class='neutral'>            r.slot := slot</span>
  83 |     | <span class='neutral'>        }</span>
  84 |     | <span class='neutral'>    }</span>
  85 |     | <span class='neutral'></span>
  86 |     | <span class='neutral'>    /**</span>
  87 |     | <span class='neutral'>     * @dev Returns an `Uint256Slot` with member `value` located at `slot`.</span>
  88 |     | <span class='neutral'>     */</span>
  89 |     | <span class='neutral'>    function getUint256Slot(bytes32 slot) internal pure returns (Uint256Slot storage r) {</span>
  90 |     | <span class='neutral'>        /// @solidity memory-safe-assembly</span>
  91 |     | <span class='neutral'>        assembly {</span>
  92 |     | <span class='neutral'>            r.slot := slot</span>
  93 |     | <span class='neutral'>        }</span>
  94 |     | <span class='neutral'>    }</span>
  95 |     | <span class='neutral'></span>
  96 |     | <span class='neutral'>    /**</span>
  97 |     | <span class='neutral'>     * @dev Returns an `StringSlot` with member `value` located at `slot`.</span>
  98 |     | <span class='neutral'>     */</span>
  99 |     | <span class='neutral'>    function getStringSlot(bytes32 slot) internal pure returns (StringSlot storage r) {</span>
 100 |     | <span class='neutral'>        /// @solidity memory-safe-assembly</span>
 101 |     | <span class='neutral'>        assembly {</span>
 102 |     | <span class='neutral'>            r.slot := slot</span>
 103 |     | <span class='neutral'>        }</span>
 104 |     | <span class='neutral'>    }</span>
 105 |     | <span class='neutral'></span>
 106 |     | <span class='neutral'>    /**</span>
 107 |     | <span class='neutral'>     * @dev Returns an `StringSlot` representation of the string storage pointer `store`.</span>
 108 |     | <span class='neutral'>     */</span>
 109 |     | <span class='neutral'>    function getStringSlot(string storage store) internal pure returns (StringSlot storage r) {</span>
 110 |     | <span class='neutral'>        /// @solidity memory-safe-assembly</span>
 111 |     | <span class='neutral'>        assembly {</span>
 112 |     | <span class='neutral'>            r.slot := store.slot</span>
 113 |     | <span class='neutral'>        }</span>
 114 |     | <span class='neutral'>    }</span>
 115 |     | <span class='neutral'></span>
 116 |     | <span class='neutral'>    /**</span>
 117 |     | <span class='neutral'>     * @dev Returns an `BytesSlot` with member `value` located at `slot`.</span>
 118 |     | <span class='neutral'>     */</span>
 119 |     | <span class='neutral'>    function getBytesSlot(bytes32 slot) internal pure returns (BytesSlot storage r) {</span>
 120 |     | <span class='neutral'>        /// @solidity memory-safe-assembly</span>
 121 |     | <span class='neutral'>        assembly {</span>
 122 |     | <span class='neutral'>            r.slot := slot</span>
 123 |     | <span class='neutral'>        }</span>
 124 |     | <span class='neutral'>    }</span>
 125 |     | <span class='neutral'></span>
 126 |     | <span class='neutral'>    /**</span>
 127 |     | <span class='neutral'>     * @dev Returns an `BytesSlot` representation of the bytes storage pointer `store`.</span>
 128 |     | <span class='neutral'>     */</span>
 129 |     | <span class='neutral'>    function getBytesSlot(bytes storage store) internal pure returns (BytesSlot storage r) {</span>
 130 |     | <span class='neutral'>        /// @solidity memory-safe-assembly</span>
 131 |     | <span class='neutral'>        assembly {</span>
 132 |     | <span class='neutral'>            r.slot := store.slot</span>
 133 |     | <span class='neutral'>        }</span>
 134 |     | <span class='neutral'>    }</span>
 135 |     | <span class='neutral'>}</span>
 136 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>// OpenZeppelin Contracts (last updated v5.0.0) (utils/introspection/IERC165.sol)</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>pragma solidity ^0.8.20;</span>
  5 |     | <span class='neutral'></span>
  6 |     | <span class='neutral'>/**</span>
  7 |     | <span class='neutral'> * @dev Interface of the ERC165 standard, as defined in the</span>
  8 |     | <span class='neutral'> * https://eips.ethereum.org/EIPS/eip-165[EIP].</span>
  9 |     | <span class='neutral'> *</span>
 10 |     | <span class='neutral'> * Implementers can declare support of contract interfaces, which can then be</span>
 11 |     | <span class='neutral'> * queried by others ({ERC165Checker}).</span>
 12 |     | <span class='neutral'> *</span>
 13 |     | <span class='neutral'> * For an implementation, see {ERC165}.</span>
 14 |     | <span class='neutral'> */</span>
 15 |     | <span class='neutral'>interface IERC165 {</span>
 16 |     | <span class='neutral'>    /**</span>
 17 |     | <span class='neutral'>     * @dev Returns true if this contract implements the interface defined by</span>
 18 |     | <span class='neutral'>     * `interfaceId`. See the corresponding</span>
 19 |     | <span class='neutral'>     * https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified[EIP section]</span>
 20 |     | <span class='neutral'>     * to learn more about how these ids are created.</span>
 21 |     | <span class='neutral'>     *</span>
 22 |     | <span class='neutral'>     * This function call must use less than 30 000 gas.</span>
 23 |     | <span class='neutral'>     */</span>
 24 |     | <span class='neutral'>    function supportsInterface(bytes4 interfaceId) external view returns (bool);</span>
 25 |     | <span class='neutral'>}</span>
 26 |     | <span class='neutral'></span>

</code>
<br />

<b>/code/test/echidna/Echidna_PriceOracleRouterProps.sol</b>
<code>
  1 |     | <span class='neutral'>// SPDX-License-Identifier: MIT</span>
  2 |     | <span class='neutral'>pragma solidity ^0.8.24;</span>
  3 |     | <span class='neutral'></span>
  4 |     | <span class='neutral'>import {PriceOracleRouter} from &quot;contracts/hub/PriceOracleRouter.sol&quot;;</span>
  5 |     | <span class='neutral'>import {MockAggregator} from &quot;contracts/mocks/MockAggregator.sol&quot;;</span>
  6 |     | <span class='neutral'></span>
  7 | *r  | <span class='executed'>contract Echidna_PriceOracleRouterProps {</span>
  8 |     | <span class='neutral'>    PriceOracleRouter public router;</span>
  9 |     | <span class='neutral'>    MockAggregator public primary;</span>
 10 |     | <span class='unexecuted'>    MockAggregator public secondary;</span>
 11 | *   | <span class='executed'>    address public asset;</span>
 12 |     | <span class='neutral'></span>
 13 |     | <span class='neutral'>    constructor() {</span>
 14 | *   | <span class='executed'>        router = new PriceOracleRouter();</span>
 15 | *   | <span class='executed'>        router.initialize(address(this));</span>
 16 | *   | <span class='executed'>        primary = new MockAggregator(1e8, block.timestamp);</span>
 17 | *   | <span class='executed'>        secondary = new MockAggregator(1e8, block.timestamp);</span>
 18 | *   | <span class='executed'>        asset = address(0xBEEF);</span>
 19 | *   | <span class='executed'>        router.setFeed(asset, address(primary), address(secondary), 8, 1 days, 500); // 5% max dev</span>
 20 | *   | <span class='executed'>        router.setFeedBounds(asset, 1, type(int256).max);</span>
 21 |     | <span class='neutral'>    }</span>
 22 |     | <span class='neutral'></span>
 23 |     | <span class='neutral'>    // Mutators for Echidna</span>
 24 |     | <span class='neutral'>    function setPrimary(int256 ans, uint256 ts) public {</span>
 25 | *   | <span class='executed'>        primary.setAnswer(ans);</span>
 26 | *   | <span class='executed'>        primary.setUpdatedAt(ts);</span>
 27 |     | <span class='neutral'>    }</span>
 28 |     | <span class='neutral'></span>
 29 |     | <span class='neutral'>    function setSecondary(int256 ans, uint256 ts) public {</span>
 30 | *   | <span class='executed'>        secondary.setAnswer(ans);</span>
 31 | *   | <span class='executed'>        secondary.setUpdatedAt(ts);</span>
 32 |     | <span class='neutral'>    }</span>
 33 |     | <span class='neutral'></span>
 34 |     | <span class='neutral'>    function setSequencer(address oracle) public {</span>
 35 |     | <span class='neutral'>        // allow fuzz to toggle sequencer oracle; if unset, sequencer checks are skipped</span>
 36 | *   | <span class='executed'>        router.setSequencerOracle(oracle);</span>
 37 |     | <span class='neutral'>    }</span>
 38 |     | <span class='neutral'></span>
 39 |     | <span class='neutral'>    // Properties</span>
 40 |     | <span class='neutral'>    function echidna_primary_used_when_fresh_in_bounds() public returns (bool) {</span>
 41 |     | <span class='neutral'>        // Ensure primary fresh and in bounds; getPrice should not revert and return primary</span>
 42 |     | <span class='unexecuted'>        primary.setAnswer(1e8);</span>
 43 |     | <span class='unexecuted'>        primary.setUpdatedAt(block.timestamp);</span>
 44 |     | <span class='neutral'>        // secondary slightly deviates within 5%</span>
 45 |     | <span class='unexecuted'>        secondary.setAnswer(int256(97_000_000));</span>
 46 |     | <span class='unexecuted'>        secondary.setUpdatedAt(block.timestamp);</span>
 47 |     | <span class='unexecuted'>        (uint256 p,,) = router.getPrice(asset);</span>
 48 |     | <span class='unexecuted'>        return p == 1e8;</span>
 49 |     | <span class='neutral'>    }</span>
 50 |     | <span class='neutral'></span>
 51 |     | <span class='neutral'>    function echidna_secondary_fallback_when_primary_bad() public returns (bool) {</span>
 52 |     | <span class='neutral'>        // Make primary stale; ensure secondary fresh and used</span>
 53 |     | <span class='unexecuted'>        primary.setAnswer(1e8);</span>
 54 |     | <span class='unexecuted'>        primary.setUpdatedAt(block.timestamp - 10 days);</span>
 55 |     | <span class='unexecuted'>        secondary.setAnswer(90_000_000);</span>
 56 |     | <span class='unexecuted'>        secondary.setUpdatedAt(block.timestamp);</span>
 57 |     | <span class='unexecuted'>        (uint256 p,,) = router.getPrice(asset);</span>
 58 |     | <span class='unexecuted'>        return p == 90_000_000;</span>
 59 |     | <span class='neutral'>    }</span>
 60 |     | <span class='neutral'>}</span>
 61 |     | <span class='neutral'></span>

</code>
<br />

